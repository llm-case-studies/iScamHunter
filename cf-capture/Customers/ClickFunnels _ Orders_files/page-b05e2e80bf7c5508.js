try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d7f52c2c-b77c-4fcc-bcef-1e5b988835b2",e._sentryDebugIdIdentifier="sentry-dbid-d7f52c2c-b77c-4fcc-bcef-1e5b988835b2")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{6260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ew});var a=n(5006),o=n(19182),s=n(90356),r=n(29106),i=n(69230),l=n(7529),c=n(66906),d=n(31102),u=n(85143),p=n(97241),h=n(37328),m=n(67576),g=n(68259),y=n(79103),f=n(80385),b=n(89360),v=n(99006);let w="https://www.delphi.ai/api";function C(){var e;let{clone:t,instance:n,config:a}=(0,v.getOptions)(),{conversationId:s}=(0,o.g)(),{data:r,error:i}=(0,y.R)(),l=function(e){let{slug:t,instanceSlug:n}=e,a="delphi-embed-conversation.clone.".concat(t,".").concat(null!=n?n:"base");return localStorage.getItem(a)}({slug:t.slug,instanceSlug:null==n?void 0:n.slug}),c=localStorage.getItem("delphi-embed"),d=(null==n?void 0:n.slug)?n.slug:"default",u=new URL("".concat(w,"/embed/").concat(t.slug,"/").concat(d,"/talk"));(null==a?void 0:a.locationId)&&u.searchParams.set("locationId",a.locationId);let p={},{hostname:h,pathname:m}=window.location;p["X-Delphi-User-Origin"]="".concat(h).concat(m),s?p["X-Delphi-Cid"]="".concat(s):l&&(p["X-Delphi-Aid"]="".concat(l)),c&&(p.Authorization="Bearer ".concat(c));let g=r&&"object"==typeof r&&"config"in r&&(null==(e=r.config)?void 0:e.locationId)?r.config.locationId:null==a?void 0:a.locationId;return g&&(p["X-Delphi-Location-Id"]="".concat(g)),{url:u.toString(),headers:p}}function S(){let{url:e,headers:t}=C();return(0,m.Ay)(e,e=>(0,i.GO)(e,{headers:t}))}let j=async e=>{var t;let n=await fetch("".concat(w,"/embed/message/submit-owner-feedback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastMessage:null!=(t=e.userMessage)?t:null,idealResponse:e.toneFeedback.trim(),adjustFeature:"tone",messageId:e.message.id,slug:e.slug})});return g.Ik({message:g.eu("done")}).parse(await n.json())},O=async e=>{let{uploadId:t,partETags:n,fileKey:a,fileName:o}=e,s=await fetch("".concat(w,"/embed/complete-multipart-upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partETags:n,fileName:o,uploadId:t,fileKey:a})});return f.g$t.parse(await s.json())},E=async e=>{let{shareId:t,text:n,userId:a="ANONYMOUS",slug:o}=e,s=await fetch("".concat(w,"/embed/conversation/share/continue"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shareId:t,userId:a,fmsg:n,slug:o})});return g.Ik({conversationId:g.Yj().uuid()}).parse(await s.json())},x=async e=>{let t=(0,i.rO)(),n=await fetch("".concat(w,"/embed/membership/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});return f.zKf.parse(await n.json())},T=async e=>{let t=(0,i.rO)(),n=await fetch("".concat(w,"/embed/interactions/greet"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!n.ok)throw Error("Failed to send greeting: ".concat(n.status," ").concat(n.statusText));return{message:"ok"}},k=async e=>{let t=await fetch("".concat(w,"/embed/audience/").concat(e.slug,"/conversations/").concat(e.conversationId,"/messages/edit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.idealResponse.trim(),message_id:e.message.id,slug:e.slug})});return g.Ik({message:g.eu("done")}).parse(await t.json())},I=async()=>{let e=await fetch("".concat(w,"/embed/deepgram/issue-key"),{method:"POST",headers:{"Content-Type":"application/json"}});return g.Yj().parse(await e.json())},P=async()=>{let e=await fetch("".concat(w,"/embed/gladia/issue-key"),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return g.Yj().parse(t.key)},N=async e=>{await fetch("".concat(w,"/embed/gladia/failure"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},U=async e=>{var t;let{clone:n,instance:a}=(0,v.getOptions)();await fetch("".concat(w,"/embed/").concat(n.slug,"/").concat(null!=(t=null==a?void 0:a.slug)?t:"default","/talk/failure"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},A=async e=>{let{fileName:t,contentType:n,fileSize:a,bucketType:o}=e,s=await fetch("".concat(w,"/embed/s3-presigned-url"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:t,contentType:n,fileSize:a,bucketType:o})});return f.Vxt.parse(await s.json())},J=async e=>{let{slug:t,conversationId:n,instanceSlug:a}=e;if("sample"===n)return;let o="delphi-embed-conversation.clone.".concat(t,".").concat(null!=a?a:"base");window.localStorage.setItem(o,n)},M=async e=>{var t;let n=(0,i.rO)();if(!n)return{usage:null};let a=new URL("".concat(w,"/embed/").concat(e.slug,"/").concat(null!=(t=e.instanceSlug)?t:"default","/relationship"));e.locationId&&a.searchParams.set("locationId",e.locationId);let o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});return g.Ik({usage:f.zHJ.nullable()}).parse(await o.json())},B=async e=>{let{text:t,conversationId:n,sender:a}=e;a===f.U1q.USER&&window.delphiEmbedAnalytics&&(b.c2?window.delphiEmbedAnalytics.track("EMBED_ENGAGED",{engagement_type:"chat"}):console.log("[Delphi Embed Analytics] (Development Mode) EMBED_ENGAGED",{engagement_type:"chat"}));let{config:o}=(0,v.getOptions)(),s=null==o?void 0:o.locationId,r=await fetch("".concat(w,"/embed/message/store"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,conversationId:n,sender:a,locationId:s})});return g.L5().parse(await r.json())},D=async e=>{let{id:t,title:n,hidden:a}=e;if((null==n?void 0:n.trim().length)===0)return;let o=await fetch("".concat(w,"/embed/conversation/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,title:n,hidden:a})});return f.Xqj.parse(await o.json())},_=async e=>{let t=(0,i.rO)();if(!t)throw Error("Anon users cannot update their phone number");let n=await fetch("".concat(w,"/embed/user/update/phone"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),a=await n.json();return a.token&&(0,i.VX)(a.token),f.vJv.parse(a.user)},z=async e=>{let t=(0,i.rO)();if(!t)throw Error("Anon users cannot update their phone number");let n=await fetch("".concat(w,"/embed/user/update/telegram"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),a=await n.json();return a.token&&(0,i.VX)(a.token),f.vJv.parse(a.user)},R=async e=>{let t=(0,i.rO)();return await fetch("".concat(w,"/embed/conversation/unshare"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),null},G=async()=>{let e=(0,i.rO)(),{clone:t,instance:n}=(0,v.getOptions)(),a=new URLSearchParams;a.set("cloneSlug",t.slug),a.set("isConsumer","true"),n&&a.set("instanceSlug",n.slug);let o=await fetch("".concat(w,"/embed/conversation/list?").concat(a.toString()),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});return g.YO(f.Dpy).parse(await o.json())},L=async e=>{let{opt_in:t,slug:n}=e,a=(0,i.rO)();if(!a)throw Error("Anon users cannot update their opt-in status");let o=await fetch("".concat(w,"/embed/").concat(n,"/auth/relationship/optIn"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({opt_in:t})});return g.Ik({message:g.eu("updated sms opt in")}).parse(await o.json())},V=async e=>{let t=(0,i.rO)();if(!t)throw Error("Anon users cannot update their phone number");let n=await fetch("".concat(w,"/embed/auth/phone/specify"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});return g.Ik({phone_number:g.Yj()}).parse(await n.json())},Y=async e=>{let t=(0,i.rO)();if(!t)throw Error("Anon users cannot verify their phone number");let n=await fetch("".concat(w,"/embed/auth/phone/verify"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});return g.KC([g.Ik({user:f.vJv}),g.Ik({detail:g.Yj()})]).parse(await n.json())},F=async e=>{let t=(0,i.rO)(),n=await fetch("".concat(w,"/embed/").concat(e,"/auth/relationship/optIn"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});return g.Ik({opt_in:g.zM()}).parse(await n.json())},X=async e=>{let t=(0,i.rO)(),{clone:n,instance:a}=(0,v.getOptions)(),o=(null==a?void 0:a.slug)?a.slug:"default",s="".concat(w,"/embed/").concat(n.slug,"/").concat(o,"/talk/").concat(e.conversationId),r=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});return f.RuL.parse(await r.json())},K=async e=>{let t=(0,i.rO)();if(!t)return{status:"failed to claim conversation, called anonymously"};let n=await fetch("".concat(w,"/embed/conversation/claim"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({conv_id:e})});return g.Ik({status:g.Yj()}).parse(await n.json())},q="https://www.delphi.ai/api";function W(e){let{slug:t,instanceSlug:n}=e,a="delphi-embed-conversation.clone.".concat(t,".").concat(null!=n?n:"base");return localStorage.getItem(a)}let H=()=>{let{clone:e,instance:t}=(0,p.o)(e=>e.options),{mutate:n}=(0,h.iX)(),a=(0,d.useRef)(!1),o=(0,d.useCallback)(async o=>{if(!a.current){a.current=!0;try{let a=await (0,u.Vf)({slug:e.slug,token:o.token});if("error"in a)return void console.error("SSO Token validation failed: ".concat(a.error));(0,i.VX)(a.token);let s=W({slug:e.slug,instanceSlug:null==t?void 0:t.slug});s&&await K(s),n("".concat(q,"/embed/auth"))}catch(e){console.error("Error validating SSO token:",e)}finally{a.current=!1}}},[e.slug,t,n]),s=(0,d.useCallback)(async o=>{if(!a.current){a.current=!0;try{let a=await (0,u.YZ)({slug:e.slug,token:o.token});if("error"in a)return void console.error("Platform SSO Token validation failed: ".concat(a.error));(0,i.VX)(a.token);let s=W({slug:e.slug,instanceSlug:null==t?void 0:t.slug});s&&await K(s),n("".concat(q,"/embed/auth"))}catch(e){console.error("Error validating Platform SSO token:",e)}finally{a.current=!1}}},[e.slug,t,n]),r=(0,d.useCallback)(async()=>{(0,i.aV)(),(0,i.QD)(),n("".concat(q,"/embed/auth"))},[n]);return(0,d.useEffect)(()=>{let e=!0,t=async t=>{let{data:n,origin:a}=t,{type:i}=n;(function(e){return"sso_login"===e||"platform_sso_login"===e||"sso_logout"===e})(i)&&e&&await ({sso_login:()=>o(n),platform_sso_login:()=>s(n),sso_logout:()=>r()})[i]()};window.addEventListener("message",t);let n=()=>{e&&window.parent.postMessage(JSON.stringify({type:"delphi_inner_ready"}),"*")};return"requestIdleCallback"in window?requestIdleCallback(n,{timeout:500}):setTimeout(n,250),()=>{e=!1,window.removeEventListener("message",t)}},[e.slug,n,o,s,r]),null};var Q=n(42642),$=n(75992);let Z=async e=>{let{id:t}=e,{clone:n,instance:a}=(0,v.getOptions)(),o=(null==a?void 0:a.slug)?a.slug:"default",s=await fetch("".concat("https://www.delphi.ai/api","/embed/").concat(n.slug,"/").concat(o,"/call/").concat(t),{method:"POST"});return g.Ik({shared:f.Dlv}).parse(await s.json())},ee=async e=>{await fetch("".concat("https://www.delphi.ai/api","/embed/analytics/feedback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},et="https://www.delphi.ai/api",en=async e=>{let{cloneSlug:t,instanceId:n,redirect_url:a}=e,o=await fetch("".concat(et,"/embed/").concat(t,"/").concat(null!=n?n:"default","/membership/cancel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.rO)())},body:JSON.stringify({redirect_url:a})});return g.Ik({url:g.Yj()}).parse(await o.json())},ea=async e=>{let{cloneSlug:t,instanceId:n,basis:a,redirect_url:o,membershipId:s}=e,r=await fetch("".concat(et,"/embed/").concat(t,"/").concat(null!=n?n:"default","/membership/update"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.rO)())},body:JSON.stringify({redirect_url:o,membershipId:s,basis:a})});return g.Ik({url:g.Yj()}).parse(await r.json())},eo=async e=>{let{cloneSlug:t,instanceId:n}=e,a=await fetch("".concat(et,"/embed/").concat(t,"/").concat(null!=n?n:"default","/membership/deschedule"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.rO)())}});return g.Ik({subscription:f.yQh}).parse(await a.json())},es={fetchUsage:M,claimConversation:K,getConversationById:X,getUserOptInStatus:F,captureVoiceMemoFailure:N,updateOptInStatus:L,verifyPhoneOtpCode:Y,updateUserPhoneNumber:V,deleteScheduledMembershipCancellation:eo,getCancelMembershipLink:en,getUpdateMembershipLink:ea,adjustCloneTone:j,completeMultipartUpload:O,continueSharedConversation:E,createSubscription:x,greetUser:T,improveCloneResponse:k,issueDeepgramKey:I,issueGladiaKey:P,requestPresignedUrl:A,captureMessageFailure:U,setConversationCookie:J,fetchConversationHistory:G,storeMessageInConversation:B,updateConversationTitle:D,updateCurrentUserPhone:_,updateCurrentUserTelegram:z,shareConversation:Z,verifyEmailOtpCode:u.WY,sendEmailOtpCode:u.xb,getOrCreateUser:u.z1,sendFeedback:ee,useUser:u.Jd,unshareConversation:R};var er=n(38624);let ei={greetUser:T,updateCurrentUserPhone:_,updateCurrentUserTelegram:z,updateUserPhoneNumber:V,verifyPhoneOtpCode:Y,verifyEmailOtpCode:u.WY,sendEmailOtpCode:u.xb,sendFeedback:ee,useUser:u.Jd},el="https://www.delphi.ai/api",ec={sendEndVideoCallReport:async e=>{await fetch("".concat(el,"/embed/video/end"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},getSharedConversation:async(e,t)=>{let n=await fetch("".concat(el,"/embed/conversation/shared/").concat(e,"?slug=").concat(encodeURIComponent(t)));return 404===n.status?null:f.M58.parse(await n.json())},sendTranscriptUpdate:async e=>{await fetch("".concat(el,"/embed/video/transcript"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteScheduledMembershipCancellation:eo,fetchSuggestedQuestions:async e=>{let t=await fetch("".concat(el,"/embed/").concat(e,"/default/video/suggested"));return f.pKB.parse(await t.json()).questions},getCancelMembershipLink:en,getUpdateMembershipLink:ea,captureVideoFailure:async e=>{await fetch("".concat(el,"/embed/video/failure"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},createSubscription:x,initiateVideoCall:async e=>{let{clone:t,language:n,instanceSlug:a}=e;if(window.delphiEmbedAnalytics){let e={engagement_type:"video"};b.c2?window.delphiEmbedAnalytics.track("EMBED_ENGAGED",e):console.log("[Delphi Embed Analytics] (Development Mode) EMBED_ENGAGED",e)}let{slug:o}=t,s=null,{config:r}=(0,v.getOptions)();s=null==r?void 0:r.locationId;let l=await fetch("".concat(el,"/embed/").concat(o,"/").concat(null!=a?a:"default","/video/initiate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,i.rO)())},body:JSON.stringify({cloneSlug:t.slug,instanceSlug:a,language:n,locationId:s})});if(!l.ok)throw Error(await l.text());return f.h1i.parse(await l.json())},fetchCallBundle:async e=>{let t=await fetch("".concat(el,"/embed/video/").concat(e));return f.sw3.parse(await t.json())},shareConversation:Z,verifyEmailOtpCode:u.WY,sendEmailOtpCode:u.xb,getOrCreateUser:u.z1,sendFeedback:ee,useUser:u.Jd};var ed=n(80677);let eu="https://www.delphi.ai/api",ep=async(e,t)=>{try{let n="".concat(eu,"/embed/call/brain/").concat(e).concat(t.userId?"?userId=".concat(encodeURIComponent(t.userId)):""),a=await fetch(n);return ed.Ay.object({url:ed.Ay.string()}).parse(await a.json()).url}catch(e){return console.error(e),f.Bz1}},eh={deleteScheduledMembershipCancellation:eo,getCancelMembershipLink:en,getUpdateMembershipLink:ea,captureVoiceFailure:async e=>{await fetch("".concat(eu,"/embed/call/failure"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},initiateVoiceCall:async e=>{let{clone:t,instanceId:n,relationshipId:a,userPreferredLanguage:o,locationId:s}=e;if(window.delphiEmbedAnalytics){let e={engagement_type:"call"};b.c2?window.delphiEmbedAnalytics.track("EMBED_ENGAGED",e):console.log("[Delphi Embed Analytics] (Development Mode) EMBED_ENGAGED",e)}let{id:r,slug:i}=t,l=await fetch("".concat(eu,"/embed/").concat(i,"/").concat(null!=n?n:"default","/call/initiate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relationshipId:null!=a?a:null,instanceId:null!=n?n:null,cloneSlug:i,cloneId:r,userPreferredLanguage:o,locationId:s})});return f.uoE.parse(await l.json())},shareConversation:Z,verifyEmailOtpCode:u.WY,createSubscription:x,getBrainServiceUrl:ep,sendEmailOtpCode:u.xb,getOrCreateUser:u.z1,sendFeedback:ee,fetchUsage:M,useUser:u.Jd};var em=n(13642);function eg(e){let{title:t,subtitle:n,Icon:o,className:s,variant:r="default",button:i,loading:l}=e;return(0,a.jsxs)("div",{className:(0,em.cn)("flex flex-col items-center justify-center gap-4 p-12",s),"data-sentry-component":"EmptyState","data-sentry-source-file":"empty-state.tsx",children:[o&&(0,a.jsx)(ey,{Icon:o,variant:r,loading:l}),(0,a.jsxs)("div",{className:"max-w-lg space-y-1 text-center",children:[t&&(0,a.jsx)("h4",{className:"text-sand-12 text-xl font-medium",children:t}),n&&(0,a.jsx)("p",{className:"text-sand-11 text-sm",children:n})]}),i]})}function ey(e){let{Icon:t,variant:n,className:o,loading:s}=e;return(0,a.jsxs)("div",{className:(0,em.cn)("relative size-16",o),"data-sentry-component":"EmptyStateIcon","data-sentry-source-file":"empty-state.tsx",children:[(0,a.jsx)(ef,{className:(0,em.cn)("text-orange-3 absolute inset-0 size-16","danger"===n&&"text-tomato-3","success"===n&&"text-green-3","tertiary"===n&&"text-cs-bg"),"data-sentry-element":"EmptyStateBackgroundIcon","data-sentry-source-file":"empty-state.tsx"}),(0,a.jsx)(t,{className:(0,em.cn)("text-orange-9 absolute inset-4 z-10 size-8","danger"===n&&"text-tomato-9","success"===n&&"text-green-9","tertiary"===n&&"text-sand-11",s&&"animate-spin [animation-duration:2s]"),"data-sentry-element":"Icon","data-sentry-source-file":"empty-state.tsx"})]})}function ef(e){let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 64 64",className:t,"data-sentry-element":"svg","data-sentry-component":"EmptyStateBackgroundIcon","data-sentry-source-file":"empty-state.tsx",children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M25.6 6.398a6.4 6.4 0 00-12.8-.035A6.4 6.4 0 106.4 12.8v.002a6.4 6.4 0 00-.062 12.8 6.4 6.4 0 00-.08 12.798 6.4 6.4 0 00.08 12.798 6.4 6.4 0 106.462 6.4v.002a6.4 6.4 0 1012.8 0v-.002.002a6.4 6.4 0 0012.8.05 6.4 6.4 0 0012.8-.05v-.002a6.4 6.4 0 107.04-6.368v-.063a6.4 6.4 0 000-12.737v-.06a6.4 6.4 0 000-12.737v-.062a6.4 6.4 0 000-12.737v-.066a6.4 6.4 0 10-7.04-6.37 6.4 6.4 0 00-12.8-.046 6.4 6.4 0 00-12.8.046z",clipRule:"evenodd","data-sentry-element":"path","data-sentry-source-file":"empty-state.tsx"})})}let eb={captureMessageFailure:U,captureVoiceMemoFailure:N,getConversationById:X,adjustCloneTone:j,claimConversation:K,completeMultipartUpload:O,continueSharedConversation:E,fetchUsage:M,updateOptInStatus:L,verifyPhoneOtpCode:Y,getUserOptInStatus:F,updateUserPhoneNumber:V,createSubscription:x,deleteScheduledMembershipCancellation:eo,getCancelMembershipLink:en,getUpdateMembershipLink:ea,greetUser:T,improveCloneResponse:k,issueDeepgramKey:I,issueGladiaKey:P,requestPresignedUrl:A,setConversationCookie:J,fetchConversationHistory:G,storeMessageInConversation:B,updateConversationTitle:D,updateCurrentUserPhone:_,updateCurrentUserTelegram:z,shareConversation:Z,verifyEmailOtpCode:u.WY,sendEmailOtpCode:u.xb,getOrCreateUser:u.z1,sendFeedback:ee,useUser:u.Jd,unshareConversation:R},ev=(0,o.bg)([{path:"/",ErrorBoundary:function(){let e=(0,o.r5)();if(e instanceof l.E){var t;let{details:n,user:o}=e;return(0,a.jsx)(c.M,{title:o.title,message:o.message,code:"".concat(null!=(t=n.status)?t:"UNK"," ").concat(n.code," â€” ").concat(n.cause)})}return e instanceof Error?(0,a.jsx)(c.M,{title:"Something went wrong...",message:"We're sorry, but an unexpected error occurred. Please try again later or contact support if the problem persists.",code:e.message}):(0,a.jsx)(c.M,{title:"Something went wrong...",message:"We're sorry, but an unexpected error occurred. Please try again later or contact support if the problem persists.",code:JSON.stringify(e),"data-sentry-element":"ErrorContent","data-sentry-component":"ErrorBoundary","data-sentry-source-file":"error-boundary.tsx"})},element:(0,a.jsx)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.HH,{"data-sentry-element":"RootProviders","data-sentry-source-file":"page.tsx",children:[(0,a.jsx)(H,{"data-sentry-element":"CustomEventHandler","data-sentry-source-file":"page.tsx"}),(0,a.jsx)(o.sv,{"data-sentry-element":"Outlet","data-sentry-source-file":"page.tsx"})]}),(0,a.jsx)(r.l$l,{"data-sentry-element":"Toaster","data-sentry-source-file":"page.tsx"})]})},{}),children:[{path:"/",element:(0,a.jsx)(function(){var e;let{clone:t,instance:n,config:s,userOrigin:l}=(0,p.o)(e=>e.options),{isLoading:c,error:u,data:h}=S(),{conversationId:m}=(0,o.g)();if((0,d.useEffect)(()=>{var e,t;(null==h?void 0:h.videoEnabledSlugs)?(0,er.r)(h.videoEnabledSlugs):(null==(t=window.delphi)||null==(e=t.page)?void 0:e.videoEnabledSlugs)&&(0,er.r)(window.delphi.page.videoEnabledSlugs)},[h]),c)return(0,a.jsx)($.R,{});if(u)throw u;if(!h)throw SyntaxError("Data is ".concat(JSON.stringify(h)));if(h.videoEnabledSlugs&&h.videoEnabledSlugs.length>0&&(0,er.r)(h.videoEnabledSlugs),h.isArchived)return(0,a.jsx)(eg,{Icon:r.XAi,title:"Your access to this clone has been revoked.",subtitle:"If you believe this is an error, please contact the creator."});let g=n?n.slug:void 0;return(0,a.jsx)(Q.v0r,{data:{...h,userOrigin:l},params:{slug:t.slug,conversationId:m,instanceSlug:g},options:{...s,authToken:null!=(e=(0,i.rO)())?e:void 0},api:eb,"data-sentry-element":"Talk","data-sentry-component":"CloneTalk","data-sentry-source-file":"talk.tsx"})},{})},{path:"/overview",element:(0,a.jsx)(function(){let{isLoading:e,data:t}=function(){let{data:e}=(0,u.Jd)(),{clone:t,instance:n,config:a}=(0,p.o)(e=>e.options),o=(null==n?void 0:n.slug)?n.slug:"default",s="".concat("https://www.delphi.ai/api","/embed/").concat(t.slug,"/").concat(o,"/overview");return null!=e&&(s+=s.includes("?")?"&uid=".concat(e.id):"?uid=".concat(e.id)),(null==a?void 0:a.id)&&(s+=s.includes("?")?"&embedConfigId=".concat(a.id):"?embedConfigId=".concat(a.id)),(0,m.Ay)(s)}(),{clone:n,instance:o,config:s}=(0,p.o)(e=>e.options),{url:r,headers:l}=C(),c=o?o.slug:void 0;if((0,d.useEffect)(()=>{var e,n;(null==t?void 0:t.videoEnabledSlugs)?(0,er.r)(t.videoEnabledSlugs):(null==(n=window.delphi)||null==(e=n.page)?void 0:e.videoEnabledSlugs)&&(0,er.r)(window.delphi.page.videoEnabledSlugs)},[t]),(0,d.useEffect)(()=>{(0,h.uv)(r,e=>(0,i.GO)(e,{headers:l}))},[n.slug,c,r,l]),e&&!t)return(0,a.jsx)($.R,{});if(!t)throw SyntaxError("data is undefined");return(0,a.jsx)(Q.Awz,{params:{slug:n.slug,instanceSlug:c},options:s,data:t,api:ei,"data-sentry-element":"Overview","data-sentry-component":"CloneOverview","data-sentry-source-file":"overview.tsx"})},{})},{path:"/call",element:(0,a.jsx)(function(){let{error:e,isLoading:t,data:n}=function(){let{data:e}=(0,u.Jd)(),{clone:t,instance:n,config:a}=(0,p.o)(e=>e.options),o=(null==n?void 0:n.slug)?n.slug:"default",s=null==a?void 0:a.locationId,r=(0,d.useMemo)(()=>{let n=new URL("".concat(eu,"/embed/").concat(t.slug,"/").concat(o,"/call"));return null!=e&&n.searchParams.set("uid",e.id),s&&n.searchParams.set("locationId",s),n.toString()},[t.slug,o,s,e]);return(0,m.Ay)(r)}(),{config:o}=(0,p.o)(e=>e.options);if(e)throw e;if(t&&!n)return(0,a.jsx)($.R,{});if(null===n)throw new l.E({title:"Configuration Issue",message:"This embed is set to default to voice calling, but this clone does not have voice calling setup."},{cause:"fetchCallData returned null - clone doesn't exist or cloneCommMethods forbids calling",code:"delphi-embed/calling-not-supported",status:400});if(!n)throw SyntaxError("data is undefined");return(0,a.jsx)(Q.JeQ,{api:eh,data:{...n,options:o},"data-sentry-element":"Call","data-sentry-component":"CloneCall","data-sentry-source-file":"call.tsx"})},{})},{path:"/conversation/:conversationId",element:(0,a.jsx)(function(){let{conversationId:e}=(0,o.g)(),{error:t,isLoading:n,data:s}=S(),{clone:r,instance:i,config:l}=(0,p.o)(e=>e.options);if(t)throw t;if(n&&!s)return(0,a.jsx)($.R,{});if(!s)throw SyntaxError("data is undefined");let c=i?i.slug:void 0;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Q.v0r,{params:{slug:r.slug,conversationId:e,instanceSlug:c},options:l,api:es,data:s,"data-sentry-element":"Talk","data-sentry-source-file":"conv.tsx"},null==s?void 0:s.conversation.id)})},{})},{path:"/video",element:(0,a.jsx)(function(){let{config:e}=(0,p.o)(e=>e.options),{data:t}=function(){let{clone:e,instance:t,config:n}=(0,p.o)(e=>e.options),{data:a}=(0,u.Jd)(),o=(null==t?void 0:t.slug)?t.slug:"default",s=null==n?void 0:n.locationId,r=new URL("".concat(el,"/embed/").concat(e.slug,"/").concat(o,"/video"));return null!=a&&r.searchParams.set("uid",a.id),s&&r.searchParams.set("locationId",s),(0,m.Ay)(r.toString())}();if(void 0===t)return(0,a.jsx)($.R,{});if(null===t)throw new l.E({title:"Configuration Issue",message:"This embed is set to default to video calling, but this clone does not have video calling setup."},{cause:"fetchVideoData returned null - clone doesn't exist or cloneCommMethods forbids video",code:"delphi-embed/video-not-supported",status:400});return(0,a.jsx)(Q.CeX,{options:e,api:ec,data:t,"data-sentry-element":"Video","data-sentry-component":"CloneVideo","data-sentry-source-file":"video.tsx"})},{})}]}]);function ew(){return(0,a.jsx)(s.pg,{router:ev,"data-sentry-element":"RouterProvider","data-sentry-component":"Page","data-sentry-source-file":"page.tsx"})}},41250:(e,t,n)=>{Promise.resolve().then(n.bind(n,6260))}},e=>{e.O(0,[1537,5781,4482,3683,5039,8091,805,2397,9438,9545,8870,9106,9230,2065,7795,9023,7358],()=>e(e.s=41250)),_N_E=e.O()}]);