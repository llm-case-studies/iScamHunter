try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="ced092cb-b66f-4c29-a8f4-61d98cbccf62",e._sentryDebugIdIdentifier="sentry-dbid-ced092cb-b66f-4c29-a8f4-61d98cbccf62")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4046],{16785:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[orgId]/gateways/stripe",function(){return n(13788)}])},80776:function(e,r,n){"use strict";n.d(r,{AN:function(){return h},IR:function(){return t},Kb:function(){return o},N9:function(){return i},SW:function(){return d},Wh:function(){return s},b5:function(){return u},hh:function(){return a},n3:function(){return x},pW:function(){return l},qV:function(){return p},sU:function(){return c}});let s=/^[a-zA-Z0-9/:.-]+$/,t=/^([a-zA-Z0-9,./])([a-zA-Z0-9, \-()./]*)$/,i=/^[a-zA-ZÀ-ž0-9\/\ '.]+$/,c=/^[a-zA-ZÀ-ž0-9\/\ '.,()#;:'&]+$/,a=/^[A-Za-z0-9\s]*$/g,o=/^[0-9]*$/g,d=/^[\w\d\s\-]+$/,l=/^[A-Z]\d[A-Z] ?\d[A-Z]\d$/,u=/^\d{5}(\d{4})?$/,h=/^[A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2}$/,x=RegExp("^[\\w\\s\\-\\p{L},.']+$","u"),p=/^\d{2}\-\d{7}$/},91573:function(e,r,n){"use strict";var s=n(70813),t=n(38220);r.Z=e=>{let{currencies:r}=e;return(0,s.jsx)(t.kC,{flexWrap:"wrap",gridGap:"xxs",children:r.map(e=>(0,s.jsx)(t.Ct,{variant:"ongoing",children:e},e))})}},81244:function(e,r,n){"use strict";n.d(r,{Z:function(){return v}});var s=n(70813),t=n(38220),i=n(55826),c=n(37013),a=n(91573);function o(e){let{gateway:r}=e;return(0,s.jsxs)(t.uG,{children:[(0,s.jsx)(t.xv,{color:"waterloo",children:"Gateway currencies"}),(0,s.jsx)(a.Z,{currencies:r.currencies})]})}var d=n(18159),l=n(33618),u=n(44065),h=n(3997),x=n(16348),p=n(12630),j=n(6491),g=n(83160),f=n(16053),b=n(93181);let m=j.z.object({currencies:j.z.array(j.z.string().trim().min(1,l.p8.Required))});function y(e){let{closeForm:r,gateway:n}=e,{mutate:i,isPending:c}=(0,f.Z)(n.gateway.slug),a=(0,t.pm)(),{formState:{isDirty:o,isSubmitSuccessful:j},handleSubmit:y,control:v,reset:w}=(0,u.cI)({defaultValues:{currencies:n.currencies},resolver:(0,d.F)(m),mode:"onTouched"}),D=h.a(n.gateway.supportedCurrencies||[l.NE.USD],x.a(e=>({value:e,label:e})),p.a(e=>e.label)),{openUnsavedAlertDialog:Q,UnsavedAlert:C}=(0,g.Q)({onDiscard:()=>{r(),w()},shouldConfirmLeave:o&&!j}),Z=y(e=>{i({currencies:e.currencies},{onSuccess:()=>{r(),a({message:"Currencies for gateway ".concat(b.Z[n.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:Z,children:[(0,s.jsx)(u.Qr,{render:e=>{let{field:r}=e;return(0,s.jsx)(t.If,{options:D,onChange:r.onChange,value:r.value,label:"Currencies"})},name:"currencies",control:v}),(0,s.jsxs)(t.QQ.ContentAction,{children:[(0,s.jsx)(t.zx,{onClick:Q,disabled:c,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,s.jsx)(t.zx,{$loading:c,variant:"primary",type:"submit",size:"md",ml:"sm",children:"Save"})]})]}),(0,s.jsx)(C,{})]})}function v(e){let{gateway:r}=e,[n,a]=(0,i.useState)(!1),{hasAccess:d}=(0,c.Z)(),l=r.gateway.supportedCurrencies.length>1&&!n&&d;return(0,s.jsxs)(t.QQ.Root,{children:[(0,s.jsxs)(t.QQ.Header,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.QQ.Title,{children:"Currencies"}),(0,s.jsx)(t.QQ.Description,{children:"Decide what currencies are available for this gateway. Transactions outside the selected currencies will be declined."})]}),(0,s.jsx)(t.QQ.HeaderAction,{children:l&&(0,s.jsx)(t.zx,{disabled:!r.isEnabled,onClick:()=>a(!0),variant:"secondary",size:"lg",children:"Edit"})})]}),(0,s.jsxs)(t.QQ.Content,{children:[!n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(o,{gateway:r})}),n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(y,{closeForm:()=>a(!1),gateway:r})})]})]})}},25343:function(e,r,n){"use strict";n.d(r,{Z:function(){return m}});var s=n(70813),t=n(38220),i=n(55826),c=n(37013);function a(e){let{gateway:r}=e;return(0,s.jsxs)(t.uG,{children:[!r.isDynamicDescriptorEnabled&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.xv,{color:"waterloo",children:"Descriptor"}),(null==r?void 0:r.descriptor)?(0,s.jsx)(t.xv,{children:null==r?void 0:r.descriptor}):(0,s.jsx)(t.xv,{color:"magical",children:"Undefined"})]}),(0,s.jsx)(t.xv,{color:"waterloo",children:"Dynamic descriptor"}),(0,s.jsx)(t.xv,{children:(null==r?void 0:r.isDynamicDescriptorEnabled)?"Enabled":"Disabled"})]})}var o=n(18159),d=n(33618),l=n(44065),u=n(66829),h=n(6491),x=n(80776),p=n(83160),j=n(16053),g=n(93181);let f=h.z.object({descriptor:h.z.string().trim().max(22,(0,d.e$)(d.p8.MostChars,22)).regex(x.hh,d.p8.Descriptor).refine(e=>!(0,u.isCreditCard)(e||""),{message:d.p8.CreditCardNumber}),isDynamicDescriptorEnabled:h.z.boolean().default(!1)});function b(e){var r;let{closeForm:n,gateway:i}=e,{mutate:c,isPending:a}=(0,j.Z)(i.gateway.slug),d=(0,t.pm)(),{formState:{isDirty:u,errors:h,isSubmitSuccessful:x},handleSubmit:b,register:m,control:y,watch:v,reset:w}=(0,l.cI)({defaultValues:{isDynamicDescriptorEnabled:null==i?void 0:i.isDynamicDescriptorEnabled,descriptor:(null==i?void 0:i.descriptor)||""},resolver:(0,o.F)(f),mode:"onTouched"}),{openUnsavedAlertDialog:D,UnsavedAlert:Q}=(0,p.Q)({onDiscard:()=>{n(),w()},shouldConfirmLeave:u&&!x}),C=b(e=>{c({descriptor:e.isDynamicDescriptorEnabled||!e.descriptor?void 0:e.descriptor,isDynamicDescriptorEnabled:e.isDynamicDescriptorEnabled},{onSuccess:()=>{n(),d({message:"Card Statement Descriptor settings for gateway ".concat(g.Z[i.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:C,children:[(0,s.jsx)(t.UP,{...m("descriptor"),disabled:v("isDynamicDescriptorEnabled"),errorMessage:null===(r=h.descriptor)||void 0===r?void 0:r.message,placeholder:"Enter Descriptor",label:"Descriptor",id:"descriptor"}),(0,s.jsx)(t.xu,{pb:"md",children:(0,s.jsx)(l.Qr,{render:e=>{let{field:r}=e;return(0,s.jsx)(t.ji,{description:"When enabled the descriptor will be generated automatically by Payments AI.",onCheckedChange:r.onChange,label:"Dynamic Descriptor",checked:r.value,name:r.name})},name:"isDynamicDescriptorEnabled",control:y})}),(0,s.jsxs)(t.QQ.ContentAction,{children:[(0,s.jsx)(t.zx,{onClick:D,disabled:a,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,s.jsx)(t.zx,{$loading:a,variant:"primary",type:"submit",size:"md",children:"Save"})]})]}),(0,s.jsx)(Q,{})]})}function m(e){let{gateway:r}=e,[n,o]=(0,i.useState)(!1),{hasAccess:d}=(0,c.Z)();return(0,s.jsxs)(t.QQ.Root,{children:[(0,s.jsxs)(t.QQ.Header,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.QQ.Title,{children:"Card Statement Descriptor"}),(0,s.jsx)(t.QQ.Description,{children:"Most gateway accounts have a static or default descriptor. The descriptor is what appears on the cardholder's monthly statement."})]}),(0,s.jsx)(t.QQ.HeaderAction,{children:!n&&d&&(0,s.jsx)(t.zx,{onClick:()=>o(!0),disabled:!r.isEnabled,variant:"secondary",size:"lg",children:"Edit"})})]}),(0,s.jsxs)(t.QQ.Content,{children:[!n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(a,{gateway:r})}),n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(b,{closeForm:()=>o(!1),gateway:r})})]})]})}},13788:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return y}});var s=n(70813),t=n(38220),i=n(53164),c=n(74115),a=n(81244),o=n(25343),d=n(91449),l=n(85493),u=n(18208),h=n(37013),x=n(93181),p=n(16053);function j(e){let{gateway:r}=e,n=r.gateway.slug,{hasAccess:i}=(0,h.Z)(),c=(0,t.pm)(),{mutate:a,isPending:o}=(0,p.Z)(n);return(0,s.jsxs)(t.QQ.Root,{children:[(0,s.jsx)(t.QQ.Header,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(t.QQ.Title,{children:"3-D Secure"}),(0,s.jsx)(t.QQ.Description,{children:"Enabling 3-D Secure will allow you to process payments using payment cards protected with the 3-D Secure protocol. Most European payment cards require this to be processed."})]})}),(0,s.jsx)(t.xu,{pt:"xl",children:(0,s.jsx)(t.Zb,{children:(0,s.jsx)(t.KV,{disabled:o||!i,checked:r.threeDSEnabled,onCheckedChange:e=>{a({threeDSEnabled:e},{onSuccess:()=>{c({message:"3-D Secure ".concat(e?"enabled":"disabled"," for gateway ").concat(x.Z[n]),variant:"success"})}})},label:"3-D Secure"})})})]})}var g=n(24714),f=n(75251);let b="stripe",m=()=>{let{data:e,isPending:r,isError:n}=(0,c.Z)(b);return((0,f.Z)(e,r),r)?(0,s.jsx)(t.Ib,{loading:!0}):n?(0,s.jsx)(t.xu,{width:"fit-content",m:"sm",children:(0,s.jsx)(t.Te,{resource:"gateway"})}):(0,s.jsxs)(l.Z,{leftColumnContent:(0,s.jsx)(d.Z,{slug:b}),gateway:e,children:[(0,s.jsx)(a.Z,{gateway:e}),(0,s.jsx)(j,{gateway:e}),(0,s.jsx)(o.Z,{gateway:e}),(0,s.jsx)(u.Z,{gateway:e}),(0,s.jsx)(g.Z,{gateway:e})]})};m.getLayout=e=>(0,s.jsx)(i.Z,{children:e});var y=m}},function(e){e.O(0,[6843,3993,2627,5953,8159,6829,7382,9855,3164,3099,4571,626,2756,2403,2888,9774,179],function(){return e(e.s=16785)}),_N_E=e.O()}]);