try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a1dbaa14-2ca0-4b91-8878-8e79abaab7e9",e._sentryDebugIdIdentifier="sentry-dbid-a1dbaa14-2ca0-4b91-8878-8e79abaab7e9")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2403],{60343:function(e,n,a){a.d(n,{Z:function(){return r}});var t=a(70813),i=a(38220),l=a(61833),o=a(93181);function r(e){let{slug:n}=e,{mutate:a,isPending:r}=(0,l.lJ)(n);return(0,t.jsxs)(i.aR.Content,{children:[(0,t.jsxs)(i.aR.Title,{children:["Disconnect ",o.Z[n],"?"]}),(0,t.jsxs)(i.aR.Description,{textAlign:"left",children:["Disconnecting ",o.Z[n]," from your gateways will delete all data and configurations."]}),(0,t.jsx)(i.aR.Description,{textAlign:"left",children:"After disconnecting, refunds for transactions made through this gateway cannot be processed from the Payments AI dashboard - you will need to use the respective gateway's dashboard for refunds."}),(0,t.jsxs)(i.aR.Action,{children:[(0,t.jsx)(i.aR.Cancel,{disabled:r,children:"Cancel"}),(0,t.jsx)(i.aR.Submit,{onClick:()=>a(n),$loading:r,children:"Disconnect"})]})]})}},91449:function(e,n,a){a.d(n,{Z:function(){return m}});var t=a(31791),i=a(70813),l=a(68437),o=a(38220),r=a(50288),s=a(37013),c=a(60343);function d(){let e=(0,t._)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return d=function(){return e},e}let u=(0,r.zo)(o.zx)(d(),l.Q2.mediaQueries.mobile);function m(e){let{slug:n}=e,{hasAccess:a}=(0,s.Z)();return(0,i.jsxs)(o.aR.Root,{children:[(0,i.jsx)(o.aR.Trigger,{asChild:!0,children:(0,i.jsx)(u,{disabled:!a,variant:"tertiary",size:"lg",children:"Disconnect gateway"})}),(0,i.jsx)(c.Z,{slug:n})]})}},24714:function(e,n,a){a.d(n,{Z:function(){return L}});var t=a(70813),i=a(31552),l=a(38220),o=a(55826),r=a(26291),s=a(61833),c=a(93181),d=a(37013),u=a(93499),m=a(31791),y=a(68437);function h(e){return"number"==typeof e&&!Number.isNaN(e)}var x=a(50288),f=a(44872),p=a(33618);function b(){let e=(0,m._)(["\n  display: flex;\n  align-items: baseline;\n  margin-bottom: 1rem;\n"]);return b=function(){return e},e}let j=x.zo.div(b());var v=e=>{let{currencyFormat:n,title:a,value:i,limit:o}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.kC,{justifyContent:"space-between",mt:"md",children:[(0,t.jsx)(l.xv,{fontSize:"bodySmall",color:"waterloo",as:"p",children:a}),(0,t.jsxs)(j,{children:[(0,t.jsx)(l.xv,{color:"pickledBluewood",fontWeight:"semibold",fontSize:"bodySmall",as:"p",children:n?(0,p.ed)({value:i}):i}),(0,t.jsxs)(l.xv,{color:"pickledBluewood",fontSize:"bodySmall",fontWeight:"medium",mt:"xs",as:"p",children:["\xa0/\xa0",n?(0,p.ed)({value:o}):o]})]})]}),o>0&&(0,t.jsx)(l.ko,{percentage:i/o*100})]})},g=a(53437),P=a.n(g);function C(){return(0,t.jsxs)(l.kC,{justifyContent:"center",flexDirection:"column",alignItems:"center",mx:"auto",py:"lg",children:[(0,t.jsx)(P(),{alt:"No limits set for this method illustration",src:"/_next/static/media/gateways-empty.258ffaa5.png",width:114,height:81}),(0,t.jsx)(l.xv,{color:"pickledBluewood",pt:"sm",children:"No limits set for this method"})]})}function w(){let e=(0,m._)(["\n  @media "," {\n    margin-left: 1.6rem;\n  }\n"]);return w=function(){return e},e}let k=(0,x.zo)(l.mQ.List)(w(),y.Q2.mediaQueries.mobile),A=e=>{let n={amount:e.dailyAmount,value:e.dailyValue},a={amount:e.monthlyAmount,value:e.monthlyValue},t=Object.values(n).filter(e=>h(e.used)).length,i=Object.values(a).filter(e=>h(e.used)).length;return{...e,limitsCount:{total:t+i,monthly:i,daily:t},label:f.Z[e.paymentMethod]}},T=e=>Object.values(e.limitsCount).some(e=>h(e)&&e>0),R=e=>{let{limit:n}=e;return n.limitsCount.daily>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.xv,{color:"pickledBluewood",fontSize:"body",mt:"md",children:"Daily limits"}),h(n.dailyAmount.used)&&(0,t.jsx)(v,{limit:n.dailyAmount.limit,value:n.dailyAmount.used,title:"Transaction limit"}),h(n.dailyValue.used)&&(0,t.jsx)(v,{limit:n.dailyValue.limit,value:n.dailyValue.used,title:"Amount limit",currencyFormat:!0})]}):null},S=e=>{let{limit:n}=e;return n.limitsCount.monthly>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.xv,{color:"pickledBluewood",fontSize:"body",mt:"md",children:"Monthly limits"}),h(n.monthlyAmount.used)&&(0,t.jsx)(v,{limit:n.monthlyAmount.limit,value:n.monthlyAmount.used,title:"Transaction limit"}),h(n.monthlyValue.used)&&(0,t.jsx)(v,{limit:n.monthlyValue.limit,value:n.monthlyValue.used,title:"Amount limit",currencyFormat:!0})]}):null};var I=e=>{var n;let{className:a,limits:i}=e,r=(0,o.useMemo)(()=>(null==i?void 0:i.map(A))||[],[i]);return(0,t.jsxs)(l.mQ.Root,{defaultValue:null===(n=r[0])||void 0===n?void 0:n.label,className:a,children:[(0,t.jsx)(k,{children:r.map(e=>(0,t.jsx)(l.mQ.Trigger,{value:e.label,children:f.Z[e.paymentMethod]},e.label))}),r.map(e=>(0,t.jsx)(l.mQ.Content,{value:e.label,children:T(e)?(0,t.jsxs)(l.xu,{m:{desktop:"none",mobile:"md"},children:[(0,t.jsx)(R,{limit:e}),(0,t.jsx)(S,{limit:e})]}):(0,t.jsx)(C,{})},e.label))]})},D=a(83160);function V(){let e=(0,m._)(["\n  background-color: ",";\n  padding: 32px;\n\n  @media "," {\n    padding: 2.4rem 1.6rem 0;\n  }\n"]);return V=function(){return e},e}let E=x.zo.div(V(),y.Q2.colors.athensGray,y.Q2.mediaQueries.mobile),Q=e=>{let{limitsToUpdate:n,paymentMethod:a,setLimit:i}=e;return(0,t.jsxs)(E,{children:[(0,t.jsx)(l.H6,{mb:"xl",children:"Daily Limit"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.l3,{description:"Decimals not allowed. If set to zero this gateway won’t proceed any transaction.",value:n.dailyAmount.limit,name:"".concat(a,"-dailyAmount"),placeholder:"Enter transaction limit",label:"Transactions Limit",setValue:i}),(0,t.jsx)(l.l3,{description:"Decimals not allowed. If set to zero this gateway won’t proceed any transaction.",rightIcon:(0,t.jsx)(l.xv,{fontWeight:"semibold",children:"$"}),placeholder:"Enter overall amount limit",value:n.dailyValue.limit,name:"".concat(a,"-dailyValue"),label:"Overall Amount Limit",setValue:i,type:"number"})]}),(0,t.jsx)(l.H6,{my:"xl",children:"Monthly Limit"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.l3,{description:"Decimals not allowed. If set to zero this gateway won’t proceed any transaction.",value:n.monthlyAmount.limit,name:"".concat(a,"-monthlyAmount"),placeholder:"Enter transaction limit",label:"Transactions Limit",setValue:i}),(0,t.jsx)(l.l3,{description:"Decimals not allowed. If set to zero this gateway won’t proceed any transaction.",rightIcon:(0,t.jsx)(l.xv,{fontWeight:"semibold",children:"$"}),value:n.monthlyValue.limit,placeholder:"Enter overall amount limit",name:"".concat(a,"-monthlyValue"),label:"Overall Amount Limit",setValue:i,type:"number"})]})]})};var O=e=>{var n;let{limitsToUpdate:a,gatewayLimits:i,setLimit:o}=e;return(0,t.jsxs)(l.mQ.Root,{defaultValue:null===(n=i[0])||void 0===n?void 0:n.paymentMethod,children:[(0,t.jsx)(l.mQ.List,{children:i.map((e,n)=>(0,t.jsxs)(l.mQ.Trigger,{value:e.paymentMethod,children:[f.Z[e.paymentMethod],(0,t.jsx)(l.ID,{amount:Object.values(a[n]).filter(e=>"string"!=typeof e&&(null==e?void 0:e.limit)).length})]},e.paymentMethod))}),i.map((e,n)=>(0,t.jsx)(l.mQ.Content,{value:e.paymentMethod,children:(0,t.jsx)(Q,{paymentMethod:e.paymentMethod,limitsToUpdate:a[n],setLimit:o})},e.paymentMethod))]})},B=e=>{let{volumeLimits:n,toggleForm:a,className:i,isEnabled:r}=e,[s,c]=(0,o.useState)(!1),d=(0,l.pm)(),{updateGatewayLimits:u,resetLimitsToUpdate:m,setLimitToUpdate:y,limitsToUpdate:h,isUpdating:x,limits:f}=n,{openUnsavedAlertDialog:p,UnsavedAlert:b}=(0,D.Q)({onDiscard:()=>{a(!1),m()},shouldConfirmLeave:s}),j=async()=>{try{await u(),a(!1),d({message:"Volume limits saved successfully",variant:"success"})}catch(e){}};return(0,t.jsxs)("div",{className:i,children:[h.length>0&&r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O,{gatewayLimits:f,limitsToUpdate:h,setLimit:(e,n)=>{s||c(!0),y(e,n)}}),(0,t.jsxs)(l.kC,{mr:{desktop:"none",mobile:"md"},justifyContent:"flex-end",my:"xl",children:[(0,t.jsx)(l.zx,{onClick:p,variant:"secondary",size:"md",children:"Cancel"}),(0,t.jsx)(l.zx,{$loading:x,variant:"primary",onClick:j,type:"submit",size:"md",ml:"sm",children:"Save"})]})]}),(0,t.jsx)(b,{})]})};function L(e){var n,a,m;let{gateway:y}=e,[h,x]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[b,j]=(0,o.useState)(!1),[v,g]=(0,o.useState)(!1),[P,C]=(0,r.Z)(!1),[w,k]=(0,o.useState)(!1),{data:A}=(0,s.U2)(),T=(0,u.Z)(y),{hasAccess:R}=(0,d.Z)(),S=(0,l.pm)(),{getGatewayLimitsStatusByGatewaySlug:D,isAnyLimitEnabled:V,resetLimits:E,isUpdating:Q,isPending:O,limits:L}=T,N=c.Z[y.gateway.slug],z=(null==A?void 0:null===(n=A.recommendedGateway)||void 0===n?void 0:n.status)!==i.XB.CONNECTED&&(null==A?void 0:null===(m=A.availableGateways)||void 0===m?void 0:null===(a=m.filter)||void 0===a?void 0:a.call(m,e=>e.status===i.XB.CONNECTED).length)===1,M=e=>E({onSuccess:()=>{k(e),C(!1),S({message:"Volume limits have been ".concat(e?"enabled":"disabled"," for gateway ").concat(N),variant:"success"})}}),W=async e=>{(await Promise.all(e.map(e=>D(e.gateway.slug)))).every(e=>e)&&g(!0)};return(0,o.useEffect)(()=>{var e;(null==A?void 0:A.availableGateways)&&!((null==A?void 0:A.availableGateways.length)<1)&&(null==A?void 0:null===(e=A.recommendedGateway)||void 0===e?void 0:e.status)!=="connected"&&!z&&W(null==A?void 0:A.availableGateways.filter(e=>e.gateway.slug!==(null==y?void 0:y.gateway.slug)&&"connected"===e.status))},[A]),(0,o.useEffect)(()=>{V&&k(!0)},[V]),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.aR.Root,{open:b,children:(0,t.jsxs)(l.aR.Content,{children:[(0,t.jsx)(l.aR.Title,{children:"Enable limits"}),(0,t.jsxs)(l.aR.Description,{children:["Are you sure you want to enable limits on your only gateway?"," ",(0,t.jsx)("strong",{children:"This could interrupt transaction flow."})]}),(0,t.jsxs)(l.aR.Action,{children:[(0,t.jsx)(l.aR.Cancel,{onClick:()=>j(!1),children:"Cancel"}),(0,t.jsx)(l.aR.Submit,{onClick:()=>{M(!0),j(!1)},variant:"primary",color:"white",children:"Enable"})]})]})}),(0,t.jsx)(l.aR.Root,{open:h,children:(0,t.jsxs)(l.aR.Content,{children:[(0,t.jsx)(l.aR.Title,{children:"Enable limits"}),(0,t.jsxs)(l.aR.Description,{children:["Are you sure you want to enable limits on your last limit-free gateway? ",(0,t.jsx)("strong",{children:"This could interrupt transaction flow."})]}),(0,t.jsxs)(l.aR.Action,{children:[(0,t.jsx)(l.aR.Cancel,{onClick:()=>x(!1),children:"Cancel"}),(0,t.jsx)(l.aR.Submit,{onClick:()=>{M(!0),x(!1)},variant:"primary",color:"white",children:"Enable"})]})]})}),(0,t.jsx)(l.aR.Root,{open:f,children:(0,t.jsxs)(l.aR.Content,{children:[(0,t.jsx)(l.aR.Title,{children:"Disable limits"}),(0,t.jsxs)(l.aR.Description,{children:["Are you sure you want to disable volume limits?"," ",(0,t.jsx)("strong",{children:"This will reset any existing settings."})]}),(0,t.jsxs)(l.aR.Action,{children:[(0,t.jsx)(l.aR.Cancel,{onClick:()=>p(!1),children:"Cancel"}),(0,t.jsx)(l.aR.Submit,{onClick:()=>{M(!1),p(!1)},children:"Disable"})]})]})}),(0,t.jsx)(l.QQ.Root,{children:(0,t.jsxs)(l.QQ.Header,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.QQ.Title,{children:"Volume Limits"}),(0,t.jsx)(l.QQ.Description,{children:"Limit the volume of money or count of transactions (type authorize or sale) that this gateway account can process daily or monthly."})]}),(0,t.jsx)(l.QQ.HeaderAction,{children:!P&&w&&R&&(0,t.jsx)(l.zx,{onClick:C,variant:"secondary",size:"lg",children:"Edit"})})]})}),z&&(0,t.jsx)(l.bZ,{variant:"warning",children:"You have only one gateway connected. If you exceed the limit you will lose the flow of transactions."}),v&&(0,t.jsx)(l.bZ,{variant:"warning",children:"All your other gateways have a set limit. Enabling the limit on this gateway may interrupt the transaction flow."}),(0,t.jsx)(l.xu,{pt:"xl",children:(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.KV,{disabled:O||Q||!R,onCheckedChange:e=>{if(!w&&z){j(!0);return}if(!w&&v){x(!0);return}if(!e){p(!0);return}M(e)},label:"Enable Volume Limits",name:"volumeLimitsEnabled",checked:w})})}),(0,t.jsx)(l.Ib,{loading:O,children:w&&(0,t.jsx)(l.xu,{px:{desktop:"2xl",mobile:"none"},pt:{desktop:"2xl",mobile:"xl"},children:P?(0,t.jsx)(B,{volumeLimits:T,toggleForm:C,isEnabled:w}):(0,t.jsx)(I,{limits:L})})})]})}},44872:function(e,n){n.Z={"Pagsmile-deposit-express":"Pagsmile Deposit Express","Interac-express-connect":"Interac Express Connect","Skrill Rapid Transfer":"Skrill Rapid Transfer","instant-bank-transfer":"Instant bank transfer","PostFinance-e-finance":"PostFinance eFinance","online-bank-transfer":"Online bank transfer","Belfius-direct-net":"Belfius Direct Net","PaymentAsia-crypto":"PaymentAsia Crypto","Interac-eTransfer":"Interac eTransfer","LPG-payment-card":"LPG Payment Card","MiFinity-eWallet":"MiFinity eWallet",Onlineueberweisen:"Onlineueberweisen","Pagsmile-lottery":"Pagsmile Lottery","PostFinance-card":"PostFinance Card","INOVAPAY-wallet":"INOVAPAY Wallet","oriental-wallet":"Oriental Wallet","ToditoCash-card":"ToditoCash Card","China UnionPay":"China UnionPay","bank-transfer-2":"Bank Transfer","bank-transfer-3":"Bank Transfer","bank-transfer-4":"Bank Transfer","bank-transfer-5":"Bank Transfer","bank-transfer-6":"Bank Transfer","bank-transfer-7":"Bank Transfer","bank-transfer-8":"Bank Transfer","bank-transfer-9":"Bank Transfer","Cupon-de-pagos":"Cupon de Pagos","domestic-cards":"Domestic Cards","Interac-online":"Interac Online",cryptocurrency:"Cryptocurrency","AstroPay Card":"AstroPay Card","bank-transfer":"Bank Transfer","Perfect-money":"Perfect Money",PagoEffectivo:"Pago Effectivo","payment-card":"Payment Card","cash-deposit":"Cash Deposit","Conekta-oxxo":"Conekta OXXO","Conekta-spei":"Conekta SPEI","INOVAPAY-pin":"INOVAPAY Pin","Yandex-money":"Yandex Money","Terminaly-RF":"Terminaly RF",miscellaneous:"miscellaneous","AstroPay-GO":"AstroPay GO","ING-homepay":"ING Homepay","Nordea-Solo":"Nordea Solo","Webpay Card":"Webpay Card","Alfa-click":"Alfa-Click","LPG-online":"LPG Online","Paymero-QR":"Paymero QR","WeChat Pay":"WeChat Pay",CyberSource:"CyberSource",Paysafecard:"Paysafecard",Bancontact:"Bancontact","Apple Pay":"Apple Pay","swift-dbt":"SWIFT DBT",CashToCode:"CashToCode",CODVoucher:"CODVoucher",ecoVoucher:"ecoVoucher",eZeeWallet:"eZeeWallet",InstaDebit:"InstaDebit",MuchBetter:"MuchBetter",MyFatoorah:"MyFatoorah",Netbanking:"Netbanking",Przelewy24:"Przelewy24",SMSVoucher:"SMSVoucher",VenusPoint:"VenusPoint","e-wallet":"e-wallet","voucher-2":"Voucher","voucher-3":"Voucher","voucher-4":"Voucher","XPay-P2P":"XPay P2P",GooglePay:"GooglePay",Khelocard:"Khelocard",PayULatam:"PayULatam",VCreditos:"VCreditos","Boleto-2":"Boleto","Boleto-3":"Boleto","ePay.bg":"ePay.bg","Webpay-2":"Webpay","XPay-QR":"XPay QR",CCAvenue:"CCAvenue",Ethereum:"Ethereum",Flexepin:"Flexepin",Gpaysafe:"Gpaysafe",Litecoin:"Litecoin",Neteller:"Neteller",Piastrix:"Piastrix",SparkPay:"SparkPay",UniCrypt:"UniCrypt",UPayCard:"UPayCard",Webmoney:"Webmoney",Giropay:"Giropay",AdvCash:"AdvCash",Beeline:"Beeline",bitcoin:"Bitcoin",CASHlib:"CASHlib",ecoPayz:"ecoPayz",Interac:"Interac",invoice:"invoice",iWallet:"iWallet",Neosurf:"Neosurf",Megafon:"Megafon",Trustly:"Trustly",voucher:"voucher",OchaPay:"OchaPay",PayCash:"PayCash",PayTabs:"PayTabs",Pay4Fun:"Pay4Fun",Paymero:"Paymero",PhonePe:"PhonePe",Zotapay:"Zotapay",Zimpler:"Zimpler",paypal:"PayPal",Klarna:"Klarna",Sofort:"SOFORT",Alipay:"Alipay",Airpay:"Airpay",Boleto:"Boleto",echeck:"echeck",ezyEFT:"ezyEFT",iDebit:"iDebit",loonie:"loonie",Payeer:"Payeer",PinPay:"PinPay",Resurs:"Resurs",Siirto:"Siirto",Skrill:"Skrill",Tether:"Tether",Webpay:"Webpay",iDEAL:"iDEAL",check:"check",Jeton:"Jeton",phone:"phone",QQPay:"QQPay",Tele2:"Tele2",TWINT:"TWINT",SEPA:"SEPA",cash:"Cash",jpay:"jpay",OXXO:"OXXO",POLi:"POLi",QIWI:"QIWI",ach:"ACH",EPS:"EPS",UPI:"UPI",PIX:"PIX",MTS:"MTS"}},26291:function(e,n,a){var t=a(55826),i=function(e,n){return"boolean"==typeof n?n:!e};n.Z=function(e){return(0,t.useReducer)(i,e)}}}]);