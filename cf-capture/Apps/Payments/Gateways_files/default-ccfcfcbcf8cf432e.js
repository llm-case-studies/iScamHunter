try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ced37d90-96ae-4fa8-8b0b-9807b173775e",e._sentryDebugIdIdentifier="sentry-dbid-ced37d90-96ae-4fa8-8b0b-9807b173775e")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1179],{80841:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[orgId]/gateways/default",function(){return t(91304)}])},82901:function(e,n,t){"use strict";t.d(n,{h:function(){return l}});var r=t(70813),i=t(30582),a=t(70318),o=t(38220);function l(e){let{hideFiltersButton:n=!1,onShowFilters:t,maxResults:l=1e3}=e;return(0,r.jsx)(o.Uo,{children:(0,r.jsxs)(o.kC,{flexDirection:"column",alignItems:"center",justifyContent:"center",gridGap:"md",textAlign:"center",p:"xl",children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)(o.xv,{fontSize:"h4",color:"pickledBluewood",children:"Maximum results reached"}),(0,r.jsxs)(o.xv,{color:"waterloo",children:[(0,r.jsxs)("span",{children:["You've reached the ",l.toLocaleString()," result limit."]}),(0,r.jsx)("br",{}),!n&&(0,r.jsx)("span",{children:"Use filters to narrow your search and find more specific results."})]}),!n&&(0,r.jsxs)(o.zx,{size:"lg",onClick:t,children:[(0,r.jsx)(a.Z,{})," Show filters"]})]})})}},50772:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(70813),i=t(38220),a=t(33618);function o(e){let{currency:n=a.NE.USD,value:t}=e;return(0,r.jsxs)(i.u.Root,{children:[(0,r.jsx)(i.u.Trigger,{children:(0,r.jsx)("span",{children:(0,a.ed)({notation:"compact",currency:n,value:t})})}),(0,r.jsx)(i.u.Content,{children:(0,a.ed)({currency:n,value:t})})]})}},80776:function(e,n,t){"use strict";t.d(n,{AN:function(){return x},IR:function(){return i},Kb:function(){return s},N9:function(){return a},SW:function(){return c},Wh:function(){return r},b5:function(){return u},hh:function(){return l},n3:function(){return h},pW:function(){return d},qV:function(){return m},sU:function(){return o}});let r=/^[a-zA-Z0-9/:.-]+$/,i=/^([a-zA-Z0-9,./])([a-zA-Z0-9, \-()./]*)$/,a=/^[a-zA-ZÀ-ž0-9\/\ '.]+$/,o=/^[a-zA-ZÀ-ž0-9\/\ '.,()#;:'&]+$/,l=/^[A-Za-z0-9\s]*$/g,s=/^[0-9]*$/g,c=/^[\w\d\s\-]+$/,d=/^[A-Z]\d[A-Z] ?\d[A-Z]\d$/,u=/^\d{5}(\d{4})?$/,x=/^[A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2}$/,h=RegExp("^[\\w\\s\\-\\p{L},.']+$","u"),m=/^\d{2}\-\d{7}$/},59193:function(e,n,t){"use strict";t.d(n,{V:function(){return i}});var r=t(55826);function i(e){let{totalCount:n,pagination:t,limit:i=1e3}=e;return(0,r.useMemo)(()=>{let e=Math.ceil(i/t.limit),r=n>i;return{isAtMaximumPage:r&&t.page>e,adjustedTotalCount:r?i+t.limit:n}},[n,t.limit,t.page,i])}},69024:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(70813),i=t(38220),a=t(64073);function o(){let{data:e}=(0,a.Z)(),n=!!(null==e?void 0:e.blockOrganizationPayoutUpdate);return(0,r.jsxs)(i.bZ,{variant:"info",children:["You will be able to ",n?"":"configure and"," receive payouts after 7 days from the first approved transaction"]})}},91573:function(e,n,t){"use strict";var r=t(70813),i=t(38220);n.Z=e=>{let{currencies:n}=e;return(0,r.jsx)(i.kC,{flexWrap:"wrap",gridGap:"xxs",children:n.map(e=>(0,r.jsx)(i.Ct,{variant:"ongoing",children:e},e))})}},81244:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(70813),i=t(38220),a=t(55826),o=t(37013),l=t(91573);function s(e){let{gateway:n}=e;return(0,r.jsxs)(i.uG,{children:[(0,r.jsx)(i.xv,{color:"waterloo",children:"Gateway currencies"}),(0,r.jsx)(l.Z,{currencies:n.currencies})]})}var c=t(18159),d=t(33618),u=t(44065),x=t(3997),h=t(16348),m=t(12630),p=t(6491),j=t(83160),f=t(16053),y=t(93181);let v=p.z.object({currencies:p.z.array(p.z.string().trim().min(1,d.p8.Required))});function g(e){let{closeForm:n,gateway:t}=e,{mutate:a,isPending:o}=(0,f.Z)(t.gateway.slug),l=(0,i.pm)(),{formState:{isDirty:s,isSubmitSuccessful:p},handleSubmit:g,control:b,reset:w}=(0,u.cI)({defaultValues:{currencies:t.currencies},resolver:(0,c.F)(v),mode:"onTouched"}),C=x.a(t.gateway.supportedCurrencies||[d.NE.USD],h.a(e=>({value:e,label:e})),m.a(e=>e.label)),{openUnsavedAlertDialog:D,UnsavedAlert:k}=(0,j.Q)({onDiscard:()=>{n(),w()},shouldConfirmLeave:s&&!p}),Z=g(e=>{a({currencies:e.currencies},{onSuccess:()=>{n(),l({message:"Currencies for gateway ".concat(y.Z[t.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:Z,children:[(0,r.jsx)(u.Qr,{render:e=>{let{field:n}=e;return(0,r.jsx)(i.If,{options:C,onChange:n.onChange,value:n.value,label:"Currencies"})},name:"currencies",control:b}),(0,r.jsxs)(i.QQ.ContentAction,{children:[(0,r.jsx)(i.zx,{onClick:D,disabled:o,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,r.jsx)(i.zx,{$loading:o,variant:"primary",type:"submit",size:"md",ml:"sm",children:"Save"})]})]}),(0,r.jsx)(k,{})]})}function b(e){let{gateway:n}=e,[t,l]=(0,a.useState)(!1),{hasAccess:c}=(0,o.Z)(),d=n.gateway.supportedCurrencies.length>1&&!t&&c;return(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsxs)(i.QQ.Header,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.QQ.Title,{children:"Currencies"}),(0,r.jsx)(i.QQ.Description,{children:"Decide what currencies are available for this gateway. Transactions outside the selected currencies will be declined."})]}),(0,r.jsx)(i.QQ.HeaderAction,{children:d&&(0,r.jsx)(i.zx,{disabled:!n.isEnabled,onClick:()=>l(!0),variant:"secondary",size:"lg",children:"Edit"})})]}),(0,r.jsxs)(i.QQ.Content,{children:[!t&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(s,{gateway:n})}),t&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(g,{closeForm:()=>l(!1),gateway:n})})]})]})}},25343:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(70813),i=t(38220),a=t(55826),o=t(37013);function l(e){let{gateway:n}=e;return(0,r.jsxs)(i.uG,{children:[!n.isDynamicDescriptorEnabled&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.xv,{color:"waterloo",children:"Descriptor"}),(null==n?void 0:n.descriptor)?(0,r.jsx)(i.xv,{children:null==n?void 0:n.descriptor}):(0,r.jsx)(i.xv,{color:"magical",children:"Undefined"})]}),(0,r.jsx)(i.xv,{color:"waterloo",children:"Dynamic descriptor"}),(0,r.jsx)(i.xv,{children:(null==n?void 0:n.isDynamicDescriptorEnabled)?"Enabled":"Disabled"})]})}var s=t(18159),c=t(33618),d=t(44065),u=t(66829),x=t(6491),h=t(80776),m=t(83160),p=t(16053),j=t(93181);let f=x.z.object({descriptor:x.z.string().trim().max(22,(0,c.e$)(c.p8.MostChars,22)).regex(h.hh,c.p8.Descriptor).refine(e=>!(0,u.isCreditCard)(e||""),{message:c.p8.CreditCardNumber}),isDynamicDescriptorEnabled:x.z.boolean().default(!1)});function y(e){var n;let{closeForm:t,gateway:a}=e,{mutate:o,isPending:l}=(0,p.Z)(a.gateway.slug),c=(0,i.pm)(),{formState:{isDirty:u,errors:x,isSubmitSuccessful:h},handleSubmit:y,register:v,control:g,watch:b,reset:w}=(0,d.cI)({defaultValues:{isDynamicDescriptorEnabled:null==a?void 0:a.isDynamicDescriptorEnabled,descriptor:(null==a?void 0:a.descriptor)||""},resolver:(0,s.F)(f),mode:"onTouched"}),{openUnsavedAlertDialog:C,UnsavedAlert:D}=(0,m.Q)({onDiscard:()=>{t(),w()},shouldConfirmLeave:u&&!h}),k=y(e=>{o({descriptor:e.isDynamicDescriptorEnabled||!e.descriptor?void 0:e.descriptor,isDynamicDescriptorEnabled:e.isDynamicDescriptorEnabled},{onSuccess:()=>{t(),c({message:"Card Statement Descriptor settings for gateway ".concat(j.Z[a.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:k,children:[(0,r.jsx)(i.UP,{...v("descriptor"),disabled:b("isDynamicDescriptorEnabled"),errorMessage:null===(n=x.descriptor)||void 0===n?void 0:n.message,placeholder:"Enter Descriptor",label:"Descriptor",id:"descriptor"}),(0,r.jsx)(i.xu,{pb:"md",children:(0,r.jsx)(d.Qr,{render:e=>{let{field:n}=e;return(0,r.jsx)(i.ji,{description:"When enabled the descriptor will be generated automatically by Payments AI.",onCheckedChange:n.onChange,label:"Dynamic Descriptor",checked:n.value,name:n.name})},name:"isDynamicDescriptorEnabled",control:g})}),(0,r.jsxs)(i.QQ.ContentAction,{children:[(0,r.jsx)(i.zx,{onClick:C,disabled:l,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,r.jsx)(i.zx,{$loading:l,variant:"primary",type:"submit",size:"md",children:"Save"})]})]}),(0,r.jsx)(D,{})]})}function v(e){let{gateway:n}=e,[t,s]=(0,a.useState)(!1),{hasAccess:c}=(0,o.Z)();return(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsxs)(i.QQ.Header,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.QQ.Title,{children:"Card Statement Descriptor"}),(0,r.jsx)(i.QQ.Description,{children:"Most gateway accounts have a static or default descriptor. The descriptor is what appears on the cardholder's monthly statement."})]}),(0,r.jsx)(i.QQ.HeaderAction,{children:!t&&c&&(0,r.jsx)(i.zx,{onClick:()=>s(!0),disabled:!n.isEnabled,variant:"secondary",size:"lg",children:"Edit"})})]}),(0,r.jsxs)(i.QQ.Content,{children:[!t&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(l,{gateway:n})}),t&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(y,{closeForm:()=>s(!1),gateway:n})})]})]})}},64073:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(23808),i=t(94216),a=t(12353);function o(){let e=(0,a.X6)();return(0,r.a)({queryFn:()=>i.w.getPermissions(e),queryKey:[e,"ORGANIZATION_PERMISSIONS"],select:e=>e.data.data,enabled:!!e})}},60963:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(68863),i=t(93963),a=t(94216),o=t(12353),l=t(7004);function s(){let e=(0,r.NL)(),n=(0,o.X6)();return(0,i.D)({mutationFn:async e=>a.w.updateOrgSimple(n,e),onSuccess:()=>{e.invalidateQueries({queryKey:[n,l.N]})}})}},72971:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(23808),i=t(94216),a=t(12353);function o(){let e=(0,a.X6)();return(0,r.a)({queryFn:()=>i.w.getNextPayout(e),queryKey:[e,"NEXT_PAYOUT"],select:e=>e.data.data,enabled:!!e})}},37910:function(e,n,t){"use strict";t.d(n,{_A:function(){return x},a9:function(){return u},lD:function(){return d}});var r=t(38220),i=t(23808),a=t(93963),o=t(94216),l=t(12353),s=t(28212),c=t(73255);let d=()=>{let e=(0,l.X6)();return(0,i.a)({queryFn:()=>o.w.getReportsMetadata(e),queryKey:[e,"GATEWAY_REPORTS_METADATA"],select:e=>e.data.data[0],enabled:!!e})},u=()=>{let{onDownloadProgress:e,onDownloadFinish:n,onDownloadStart:t,toastProps:r}=(0,c.ZP)(),{data:i}=d(),u=(0,l.X6)();return{downloadReports:(0,a.D)({mutationFn:n=>{let{reportTypes:t,dateFrom:r,dateTo:a}=n;return o.w.downloadGatewayReports(u,{url:i.endpointDownload.url,reportTypes:t,dateFrom:r,dateTo:a},{onDownloadProgress:e})},onSuccess:e=>{var n,t;(0,s.Z)((null===(t=e.headers)||void 0===t?void 0:null===(n=t["content-disposition"])||void 0===n?void 0:n.split("filename=")[1])||"report.zip",e.data)},onSettled:n,onMutate:t}),toastProps:r}},x=()=>{let{data:e}=d(),n=(0,l.X6)(),t=(0,r.pm)();return(0,a.D)({mutationFn:t=>o.w.sendGatewayReports(n,{...t,url:e.endpointEmail.url}),onSuccess:()=>{t({message:"Email sent.",variant:"success"})}})}},79596:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(70813),i=t(71803),a=t(97687),o=t(55826),l=t(7004),s=t(59950),c=t(37910),d=t(47235),u=t(73255);function x(e){let{reportTypes:n,dateRange:t,disabled:x}=e,{data:h}=(0,l.Z)(),{downloadReports:m,toastProps:p}=(0,c.a9)(),j=(0,c._A)(),f=(0,o.useCallback)(()=>{let e={dateFrom:(0,d.Z)((0,i.b)(t.from)),dateTo:(0,d.Z)((0,a.i)(t.to)),reportTypes:n};return m.mutate(e)},[t.from,t.to,n,m]),y=(0,o.useCallback)(e=>{let r={dateFrom:(0,d.Z)((0,i.b)(t.from)),dateTo:(0,d.Z)((0,a.i)(t.to)),reportTypes:n};return j.mutate({emailRecipients:e,...r})},[t.from,t.to,n,j]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{onDownload:f,onSend:y,disabled:x,loading:m.isPending,mainRecipient:null==h?void 0:h.business.email}),(0,r.jsx)(u.uL,{...p})]})}},91304:function(e,n,t){"use strict";t.r(n),t.d(n,{PaiGatewayPageTabs:function(){return e9},default:function(){return e6}});var r=t(70813),i=t(38220),a=t(95488),o=t(53164),l=t(91084),s=t(81891),c=t(7004),d=t(90777),u=t(33618),x=t(65324),h=t(23092),m=t(55826),p=t(23808),j=t(94216),f=t(12353);function y(e){var n,t;let{handleOpenChange:a,topUpData:o,balance:l,open:s}=e,{data:d}=(0,c.Z)(),{isPending:x,mutate:p}=(0,h.O4)(),j=(0,m.useMemo)(()=>Math.abs(l),[l]),f=(0,u.ed)({currency:(null==d?void 0:d.account.payoutCurrency)||u.NE.USD,value:j});return(0,r.jsx)(i.aR.Root,{open:s,children:(0,r.jsxs)(i.aR.Content,{children:[(0,r.jsx)(i.aR.Title,{children:"Are you sure you want to proceed with the payment?"}),(0,r.jsx)(i.aR.Description,{children:"The funds will be taken from the account linked as your billing method. This action cannot be undone."}),(0,r.jsxs)(i.rj,{gridGap:"xs",mt:"xl",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.xv,{fontWeight:"semibold",fontSize:"bodySmall",mb:"xxs",children:"Transaction details"}),(0,r.jsxs)(i.xv,{fontSize:"bodySmall",children:["Transaction amount: ",f]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.xv,{fontWeight:"semibold",fontSize:"bodySmall",mb:"xxs",children:"Bank account details"}),(0,r.jsxs)(i.xv,{fontSize:"bodySmall",children:["Account name: ",null==o?void 0:null===(n=o.individual)||void 0===n?void 0:n.firstName," ",null==o?void 0:null===(t=o.individual)||void 0===t?void 0:t.lastName]}),(0,r.jsxs)(i.xv,{fontSize:"bodySmall",children:["Account number: ",o.accountIdentifier]})]})]}),(0,r.jsxs)(i.aR.Action,{children:[(0,r.jsx)(i.aR.Cancel,{onClick:()=>a(!1),disabled:x,children:"Cancel"}),(0,r.jsx)(i.aR.Submit,{onClick:()=>{p({amount:j},{onSuccess:()=>{a(!1)}})},$loading:x,variant:"primary",children:"Confirm and pay"})]})]})})}var v=t(74715),g=t(59675),b=t(68437),w=t(66843),C=t.n(w);function D(){let e=(0,f.X6)();return(0,r.jsxs)(r.Fragment,{children:["Your Payments AI balance is currently in the negative. To ensure uninterrupted service and maintain customer satisfaction, please settle your outstanding balance promptly. Continued negative balance may lead to issues with chargebacks and disputes. Alternatively, your balance could improve through incoming transaction revenue. To prevent future negative balances, consider increasing your"," ",(0,r.jsx)(C(),{href:{query:{tab:"payouts",orgId:e},pathname:"/[orgId]/gateways/default"},legacyBehavior:!0,passHref:!0,children:(0,r.jsx)(i.ee,{children:"refund reserve"})}),"."]})}function k(){return(0,r.jsxs)(r.Fragment,{children:["Your PaymentsAI balance is currently in the negative. To ensure uninterrupted service and maintain customer satisfaction, please contact",(0,r.jsxs)(i.ee,{href:"mailto:".concat(l.Z),children:[" ",l.Z," "]}),"to resolve the issue."]})}function Z(e){let{isTopupAvailable:n,variant:t}=e;return"negative"===t?(0,r.jsxs)(i.kC,{flexDirection:"column",gridGap:"md",px:"md",py:"xl",children:[(0,r.jsxs)(i.kC,{alignItems:"center",gridGap:"xs",children:[(0,r.jsx)(i.xv,{color:"pickledBluewood",fontWeight:"semibold",children:"Negative balance"}),(0,r.jsx)(v.Z,{color:b.Q2.colors.orangePeel})]}),(0,r.jsx)(i.xu,{maxWidth:"63.4rem",children:(0,r.jsx)(i.xv,{color:"pickledBluewood",fontSize:"bodySmall",children:n?(0,r.jsx)(D,{}):(0,r.jsx)(k,{})})})]}):"pending"===t?(0,r.jsxs)(i.kC,{flexDirection:"column",gridGap:"md",px:"md",py:"xl",children:[(0,r.jsxs)(i.kC,{alignItems:"center",gridGap:"xs",children:[(0,r.jsx)(i.xv,{color:"pickledBluewood",fontWeight:"semibold",children:"Pending balance"}),(0,r.jsx)(g.Z,{color:b.Q2.colors.aconitePurple}),","]}),(0,r.jsx)(i.xu,{maxWidth:"63.4rem",children:(0,r.jsx)(i.xv,{color:"pickledBluewood",fontSize:"bodySmall",children:"We are processing your transaction to settle the balance. If you have debt that increases further before the funds are posted, the chargeback and refund functions may be blocked until the payment is received."})})]}):null}function S(e){let{balanceWithCurrency:n,balance:t}=e,[a,o]=(0,m.useState)(!1),{data:l}=(0,c.Z)(),{isPending:s,refetch:u,isError:x,data:h}=function(){let e=(0,f.X6)();return(0,p.a)({queryFn:()=>j.w.getTransferInstruments(e),queryKey:[e,"TRANSFER_INSTRUMENTS"],select:e=>e.data.data[0],enabled:!!e})}();if(s)return(0,r.jsx)(i.Ib,{loading:!0});if(x)return(0,r.jsx)(i.Te,{retry:()=>{u()},resource:"transfer instrument or balance"});let v=d.C.includes(null==l?void 0:l.business.country);return(0,r.jsxs)(i.kC,{flexDirection:{mobile:"column-reverse",laptop:"row"},boxShadow:"0px 4px 16px -4px rgba(218, 228, 232, 0.75)",gridGap:{mobile:"none",laptop:"xl"},backgroundColor:"white",borderRadius:"xs",children:[(0,r.jsxs)(i.kC,{alignItems:{laptop:"initial",mobile:"center"},padding:{laptop:"xl",mobile:"sm"},flexDirection:"column",gridGap:"md",children:[(0,r.jsx)(i.xv,{fontFamily:"heading",color:"waterloo",fontSize:"h6",children:"Account balance"}),(0,r.jsx)(i.xv,{fontFamily:"heading",fontSize:"h4",color:"fiord",children:n}),v?(0,r.jsx)(i.zx,{onClick:()=>o(!0),variant:"primary",size:"md",children:"Settle your balance"}):null]}),(0,r.jsx)(i.Z0,{orientation:"vertical",maxWidth:"1px",height:"unset",flexGrow:1}),(0,r.jsx)(Z,{isTopupAvailable:v,variant:"negative"}),(0,r.jsx)(y,{handleOpenChange:o,open:a,topUpData:h,balance:t})]})}function A(e){let{balanceWithCurrency:n}=e;return(0,r.jsxs)(i.kC,{flexDirection:{mobile:"column-reverse",laptop:"row"},boxShadow:"0px 4px 16px -4px rgba(218, 228, 232, 0.75)",gridGap:{mobile:"none",laptop:"xl"},backgroundColor:"white",borderRadius:"xs",children:[(0,r.jsxs)(i.kC,{alignItems:{laptop:"initial",mobile:"center"},padding:{laptop:"xl",mobile:"sm"},flexDirection:"column",gridGap:"md",children:[(0,r.jsx)(i.xv,{fontFamily:"heading",color:"waterloo",fontSize:"h6",children:"Account balance"}),(0,r.jsx)(i.xv,{fontFamily:"heading",fontSize:"h4",color:"fiord",children:n}),(0,r.jsx)(i.zx,{variant:"primary",size:"md",disabled:!0,children:"Settle your balance"})]}),(0,r.jsx)(i.Z0,{style:{height:"unset",maxWidth:"1px",flexGrow:1},orientation:"vertical"}),(0,r.jsx)(Z,{variant:"pending"})]})}function E(e){let{balanceWithCurrency:n}=e;return(0,r.jsx)(i.xu,{width:"max-content",children:(0,r.jsxs)(i.Rm.Root,{children:[(0,r.jsx)(i.Rm.Title,{children:"Account balance"}),(0,r.jsx)(i.Rm.Value,{children:n})]})})}let R=e=>{let{balance:n,topups:t}=e;return t.length>0?"pending":n<0?"negative":"positive"};function Q(e){let{balance:n,topups:t}=e,{data:i}=(0,c.Z)(),a=(null==i?void 0:i.account.payoutCurrency)||u.NE.USD,o=(0,u.ed)({value:n,currency:a});switch(R({balance:n,topups:t})){case"pending":return(0,r.jsx)(A,{balanceWithCurrency:o});case"negative":return(0,r.jsx)(S,{balanceWithCurrency:o,balance:n});default:return(0,r.jsx)(E,{balanceWithCurrency:o})}}function T(e){let{balance:n}=e,{isPending:t,refetch:a,isError:o,data:l}=(0,h.ZP)();return t?(0,r.jsx)(i.Ib,{loading:!0}):o?(0,r.jsx)(i.Te,{retry:()=>a(),resource:"topups"}):(0,r.jsx)(Q,{balance:n,topups:l})}function I(e){let{availableBalance:n}=e,{data:t}=(0,c.Z)(),{topup:a}=(0,x.Vb)();if(a)return(0,r.jsx)(i.xu,{pt:"xl",children:(0,r.jsx)(T,{balance:n})});let o=(0,u.ed)({currency:(null==t?void 0:t.account.payoutCurrency)||u.NE.USD,value:n});return(0,r.jsx)(E,{balanceWithCurrency:o})}function z(){let{data:e}=(0,c.Z)(),{isPending:n,refetch:t,isError:a,data:o}=(0,s.Z)("default");return n?(0,r.jsx)(i.Ib,{loading:!0}):a?(0,r.jsx)(i.Te,{retry:()=>{t()},resource:"overview gateway balance"}):(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsx)(i.QQ.Title,{children:"Balance"}),(0,r.jsxs)(i.QQ.Description,{children:["Payments AI Balance is the net result of your earnings: total user transaction revenue minus any chargebacks and refunds.",d.C.includes(null==e?void 0:e.business.country)?(0,r.jsxs)(i.kC,{mt:"xxs",children:[(0,r.jsx)(i.xv,{fontWeight:"semibold",as:"span",children:"NOTE:"}),(0,r.jsxs)(i.xu,{ml:"xxs",children:["According to our terms and conditions, if your balance remains negative for an extended period, we'll automatically top it up to prevent any service interruptions. For any questions, feel free to contact"," ",(0,r.jsx)(i.ee,{href:"mailto:".concat(l.Z),children:l.Z})]})]}):null]}),null===o.availableBalance?(0,r.jsx)(i.ML,{title:"No account balance details available"}):(0,r.jsx)(I,{availableBalance:o.availableBalance})]})}var P=t(31552),B=t(79145),N=t(28410),F=t(79596);function _(){let[e,n]=(0,m.useState)({from:(0,B.N)(new Date),to:new Date}),{data:t}=(0,c.Z)(),{isPending:a,refetch:o,isError:l}=(0,N.Z)();return a?(0,r.jsx)(i.Ib,{loading:!0}):l?(0,r.jsx)(i.Te,{retry:()=>{o()},resource:"recipients"}):(0,r.jsxs)(i.xu,{boxShadow:"0px 4px 16px -4px rgba(218, 228, 232, 0.75)",borderRadius:"xs",children:[(0,r.jsx)(i.xu,{py:"md",px:"xl",children:(0,r.jsxs)(i.kC,{justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",gridGap:"md",children:[(0,r.jsxs)(i.kC,{flexDirection:"column",maxWidth:"50rem",gridGap:"xs",children:[(0,r.jsx)(i.xv,{color:"pickledBluewood",fontWeight:"semibold",children:"Statement Report"}),(0,r.jsx)(i.xv,{color:"pickledBluewood",fontSize:"bodySmall",children:"Statement report provides insights about the starting balance, all the transactions that changed the balance, and the ending balance for the available currencies."})]}),(0,r.jsx)(i.xu,{maxWidth:{desktop:"35rem",mobile:"25rem"},children:(0,r.jsx)(i.RW,{hidden:{before:(null==t?void 0:t.createdAt)?new Date(t.createdAt):new Date,after:new Date},startMonth:(null==t?void 0:t.createdAt)?new Date(t.createdAt):new Date,onChange:n,endMonth:new Date,selected:e})})]})}),(0,r.jsx)(i.Z0,{}),(0,r.jsx)(i.xu,{p:"xl",children:(0,r.jsx)(F.Z,{reportTypes:[P.IR.STATEMENT],dateRange:e})})]})}var M=t(31791),U=t(76357),L=t(44726),O=t(84075),G=t(50288),W=t(36693),$=t(23480),J=t(74115),q=t(37013),V=t(99904),H=t(6924);function X(e){let{onOpenChange:n,open:t,onSubmit:a}=e;return(0,r.jsx)(i.aR.Root,{onOpenChange:n,open:t,children:(0,r.jsxs)(i.aR.Content,{children:[(0,r.jsx)(i.kC,{justifyContent:"center",children:(0,r.jsx)(H.Z,{height:"4.8rem",width:"auto"})}),(0,r.jsx)(i.aR.Title,{children:"Potential Processing Disruption"}),(0,r.jsx)(i.aR.Description,{children:"Any updates to the onboarding form might cause temporary processing issues and possible delays in payouts, since new documents will need to be verified."}),(0,r.jsxs)(i.aR.Action,{children:[(0,r.jsx)(i.aR.Cancel,{children:"Cancel"}),(0,r.jsx)(i.aR.Submit,{variant:"primary",onClick:a,children:"Continue"})]})]})})}function Y(e){let{status:n}=e,{hasAccess:t}=(0,q.Z)(["owner","admin"]),[a,o]=(0,m.useState)(!1),{mutate:l,isPending:s}=(0,V.Z)();return t?n===P.XB.CONNECTED?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.zx,{onClick:()=>o(!0),$loading:s,variant:"secondary",size:"lg",type:"button",children:"Upload"}),(0,r.jsx)(X,{onOpenChange:o,open:a,onSubmit:()=>l()})]}):(0,r.jsx)(i.zx,{onClick:()=>l(),$loading:s,variant:"secondary",size:"lg",children:"Upload"}):null}let K=[P.XB.NOT_CONNECTED,P.XB.UNAVAILABLE];function ee(){let{isPending:e,refetch:n,isError:t,data:a}=(0,J.Z)("default");return t?(0,r.jsx)(i.Te,{retry:()=>{n()},resource:"gateway"}):e?(0,r.jsx)(i.$j,{size:"sm"}):K.includes(a.status)?null:(0,r.jsx)(Y,{status:a.status})}function en(){let{data:e}=(0,c.Z)();return(null==e?void 0:e.isAdyen)?(0,r.jsx)(ee,{}):null}function et(){let e=(0,M._)(["\n  background: ",";\n  width: 2.8rem;\n  height: 2.8rem;\n  border-radius: 50%;\n  align-items: center;\n  display: inline-flex;\n  margin-bottom: 1rem;\n  svg {\n    width: 1.4rem;\n    height: 1.4rem;\n    margin: 0 auto;\n  }\n"]);return et=function(){return e},e}let er=G.zo.div(et(),e=>{let{color:n}=e;return b.Q2.colors[n]}),ei={"conditionally-approved":(0,r.jsxs)(i.J2.Root,{children:[(0,r.jsx)(i.J2.Trigger,{asChild:!0,children:(0,r.jsx)(i.Ct,{icon:(0,r.jsx)(U.Z,{}),variant:"warning",children:"Conditionally Approved"})}),(0,r.jsxs)(i.J2.Content,{children:[(0,r.jsx)(i.J2.Title,{icon:(0,r.jsx)(er,{color:"papayaWhip",children:(0,r.jsx)(L.Z,{})}),children:"Account Conditionally Approved"}),(0,r.jsxs)(i.J2.Description,{children:["Currently your account is conditionally approved. You're able to accept payments but if you want to transfer them into your bank account we need to verify your documents.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If you have uploaded Verification Documents it takes about 24-48 hours to fully approve your account.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If you have any problems or questions please"," ",(0,r.jsx)(i.ee,{href:"mailto:".concat(l.Z),children:"contact our support"}),"."]})]})]}),rejected:(0,r.jsxs)(i.J2.Root,{children:[(0,r.jsx)(i.J2.Trigger,{asChild:!0,children:(0,r.jsx)(i.Ct,{icon:(0,r.jsx)(U.Z,{}),variant:"error",children:"Rejected"})}),(0,r.jsxs)(i.J2.Content,{children:[(0,r.jsx)(i.J2.Title,{icon:(0,r.jsx)(er,{color:"mistyRose",children:(0,r.jsx)(v.Z,{})}),children:"Verification Documents Rejected"}),(0,r.jsxs)(i.J2.Description,{children:["Your verification documents have been rejected. Check your mailbox for more information or upload new documents.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Currently your account is conditionally approved. You're able to accept payments but if you want to transfer them into your bank account we need to verify your documents.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If you have any problems or questions please"," ",(0,r.jsx)(i.ee,{href:"mailto:".concat(l.Z),children:"contact our support"}),"."]})]})]}),"information-required":(0,r.jsxs)(i.J2.Root,{children:[(0,r.jsx)(i.J2.Trigger,{asChild:!0,children:(0,r.jsx)(i.Ct,{icon:(0,r.jsx)(U.Z,{}),variant:"error",children:"Information required"})}),(0,r.jsxs)(i.J2.Content,{children:[(0,r.jsx)(i.J2.Title,{icon:(0,r.jsx)(er,{color:"mistyRose",children:(0,r.jsx)(v.Z,{})}),children:"Information required"}),(0,r.jsx)(i.J2.Description,{children:"You have not filled in all the data in the registration form. Fill the missing elements."})]})]}),"manual-review-needed":(0,r.jsx)(i.Ct,{variant:"warning",children:"Manual review needed"}),approved:(0,r.jsx)(i.Ct,{icon:(0,r.jsx)(O.Z,{}),variant:"success",children:"Approved"}),pending:(0,r.jsx)(i.Ct,{variant:"ongoing",children:"Pending"})};function ea(){let{isPending:e,isError:n,refetch:t,data:a}=(0,W.Z)();return e?(0,r.jsx)(i.Ib,{loading:!0}):n?(0,r.jsx)(i.Te,{resource:"verification status",retry:()=>t()}):(0,r.jsxs)(i.QQ.Root,{id:"documents-verification",children:[(0,r.jsxs)(i.QQ.Header,{children:[(0,r.jsx)(i.QQ.Title,{children:"Documents Verification"}),(0,r.jsx)(i.QQ.HeaderAction,{children:(0,r.jsx)(en,{})})]}),(0,r.jsx)($.Z,{}),(0,r.jsx)(i.QQ.Content,{children:(0,r.jsxs)(i.uG,{"data-testid":"documentsVerification-dataView",children:[(0,r.jsx)(i.xv,{color:"waterloo",children:"Status"}),(0,r.jsx)("div",{children:ei[a.kycDocumentsApprovalStatus]}),(0,r.jsx)(i.xv,{color:"waterloo",children:"Last sent on"}),(0,r.jsx)(i.xv,{children:a.kycDocumentsLastUpload?(0,u.s2)(a.kycDocumentsLastUpload):"-"})]})})]})}function eo(){return(0,r.jsxs)(i.kC,{flexDirection:"column",gridGap:"xl",children:[(0,r.jsx)(z,{}),(0,r.jsx)(ea,{}),(0,r.jsx)(_,{})]})}var el=t(64073),es=t(69024),ec=t(81363),ed=t(82901),eu=t(59193),ex=t(31025);let eh={Pending:{icon:(0,r.jsx)(ex.Z,{}),transparentIcon:null,variant:"ongoing",children:"Pending"},Returned:{children:"Returned by bank",transparentIcon:null,variant:"error",icon:null},Failed:{transparentIcon:null,variant:"error",children:"Failed",icon:null},Paid:{transparentIcon:null,variant:"success",children:"Paid",icon:null}};var em=e=>{let{size:n="md",status:t}=e,{transparentIcon:a,variant:o,icon:l,children:s}=eh[t]||{transparentIcon:null,variant:void 0,children:"Unknown",icon:null};return(0,r.jsx)(i.Ct,{variant:"text"===n?"transparent":o,icon:"text"===n?a:l,size:n,children:s})},ep=t(53437),ej=t.n(ep);function ef(){let{data:e}=(0,W.Z)(),n=(0,f.X6)(),t=e&&"approved"!==e.kycDocumentsApprovalStatus;return(0,r.jsxs)(i.kC,{justifyContent:"center",flexDirection:"column",alignItems:"center",pt:"3xl",children:[(0,r.jsx)(ej(),{src:"/_next/static/media/no-payouts.539740e5.png",alt:"No payouts illustration",height:150,width:200}),(0,r.jsx)(i.xv,{fontFamily:"heading",fontSize:"h6",py:"md",children:"No payouts"}),t&&(0,r.jsx)(i.xu,{maxWidth:"48rem",children:(0,r.jsx)(i.bZ,{variant:"warning",children:(0,r.jsxs)(i.xv,{color:"pickledBluewood",fontSize:"bodySmall",children:["Account conditionally approved – you can accept payments now, but to transfer them to your bank account, we need to verify your documents, which takes 24-48 hours.\xa0",(0,r.jsx)(C(),{href:{pathname:"/[orgId]/settings/general",query:{orgId:n}},legacyBehavior:!0,passHref:!0,children:(0,r.jsx)(i.ee,{children:"Account Settings"})})]})})})]})}function ey(e){let{payouts:n}=e;return n.isPending?(0,r.jsx)(i.iA.Loading,{columns:3}):n.data.data.map(e=>{let{payoutCurrency:n,payoutAmount:t,payoutDate:a,status:o}=e;return(0,r.jsxs)(i.iA.BodyRow,{children:[(0,r.jsx)(i.iA.BodyCell,{children:n&&t&&(0,u.ed)({currency:n,value:t})}),(0,r.jsx)(i.iA.BodyCell,{children:(0,r.jsx)(em,{status:o})}),(0,r.jsx)(i.iA.BodyCell,{children:a&&(0,u.s2)(a)})]},"".concat(a,"-").concat(t,"-").concat(o,"-").concat(n))})}function ev(e){var n,t;let{payouts:a,pagination:o}=e,{isAtMaximumPage:l,adjustedTotalCount:s}=(0,eu.V)({totalCount:(null===(n=a.data)||void 0===n?void 0:n.totalCount)||0,pagination:o});return a.isError?(0,r.jsx)(i.Te,{retry:()=>a.refetch(),resource:"payouts"}):(null===(t=a.data)||void 0===t?void 0:t.data.length)===0?(0,r.jsx)(ef,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.iA.Root,{children:[(0,r.jsxs)(i.iA.Header,{children:[(0,r.jsx)(i.iA.HeaderCell,{children:"Amount"}),(0,r.jsx)(i.iA.HeaderCell,{children:"Status"}),(0,r.jsx)(i.iA.HeaderCell,{children:"Payout date"})]}),(0,r.jsx)(i.iA.Body,{children:!l&&(0,r.jsx)(ey,{payouts:a})})]}),l&&(0,r.jsx)(ed.h,{hideFiltersButton:!0}),(0,r.jsxs)(i.kC,{justifyContent:"end",pt:"sm",children:[a.isSuccess&&(0,r.jsx)(i.vI,{totalCount:s,onPageChange:o.updatePage,currentPage:o.page,perPage:o.limit}),a.isPending&&(0,r.jsx)(ec.Z,{width:100,height:20.5})]})]})}var eg=t(51685),eb=t(97687);let ew=e=>{var n,t;let{filters:r,limit:i,page:a}=e,{period:o}=r;return{offset:(a-1)*i,limit:i,page:a,...(null==o?void 0:null===(n=o.value)||void 0===n?void 0:n.from)&&{periodStart:(0,eb.i)(o.value.from).toISOString()},...(null==o?void 0:null===(t=o.value)||void 0===t?void 0:t.to)&&{periodEnd:o.value.to.toISOString()}}};var eC=t(89824),eD=t(2767),ek=t(75309),eZ=t(95564);function eS(e){let n=function(e,n,t){let{years:r=0,months:i=0,weeks:a=0,days:o=0,hours:l=0,minutes:s=0,seconds:c=0}=n,d=(0,eZ.W)(e,i+12*r,void 0),u=(0,ek.k)(d,o+7*a,void 0);return(0,eD.L)((void 0)||e,+u-1e3*(c+60*(s+60*l)))}(new Date,{days:365});return(0,eC.A)(e,n)?e:n}function eA(e){var n,t;let{updatePeriod:a,period:o}=e,[l,s]=(0,m.useState)(!1),[d,x]=(0,m.useState)(!1),{data:h}=(0,c.Z)(),p=(0,f.X6)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Lt.Root,{onOpenChange:x,open:d,children:[(0,r.jsx)(i.Lt.Trigger,{asChild:!0,children:(0,r.jsx)(i.i4,{children:(0,u.$S)(o)})}),(0,r.jsxs)(i.Lt.Content,{align:"end",children:[(0,r.jsxs)(i.Lt.RadioGroup,{onValueChange:e=>a({value:u.ei[e],id:e}),value:o.id,children:[(0,r.jsx)(i.Lt.RadioItem,{value:u.tN.lastMonth,children:u.EL.lastMonth}),(0,r.jsx)(i.Lt.RadioItem,{value:u.tN.last3Months,children:u.EL.last3Months}),(0,r.jsx)(i.Lt.RadioItem,{value:u.tN.last6Months,children:u.EL.last6Months})]}),(0,r.jsx)(i.Lt.Item,{onClick:()=>s(!0),children:"Between"}),(0,r.jsx)(i.xu,{p:"spacing10",children:(0,r.jsxs)(i.d2,{children:["Cannot show payouts over a year old. Use"," ",(0,r.jsx)(C(),{href:{pathname:"/[orgId]/reports/gateway-reports",query:{orgId:p}},legacyBehavior:!0,passHref:!0,children:(0,r.jsx)(i.ee,{children:"gateway reports"})})," ","for that."]})})]})]}),(0,r.jsx)(i.u_.Root,{onOpenChange:s,open:l,children:(0,r.jsx)(i.u_.Content,{size:"sm",children:(0,r.jsx)(i.a2,{hidden:{before:eS((null==h?void 0:h.createdAt)?new Date(null==h?void 0:h.createdAt):new Date),after:new Date},onChange:e=>{a({id:u.tN.between,value:e}),s(!1)},startMonth:eS((null==h?void 0:h.createdAt)?new Date(null==h?void 0:h.createdAt):new Date),selected:{from:null===(n=o.value)||void 0===n?void 0:n.from,to:null===(t=o.value)||void 0===t?void 0:t.to},onCancel:()=>s(!1),endMonth:new Date})})})]})}function eE(){let{pagination:e,payouts:n}=function(e){let n=(0,eg.xp)(e),t=(0,f.X6)(),r=ew(n);return{pagination:n,payouts:(0,p.a)({queryFn:()=>j.w.getPayouts(t,r),queryKey:[t,"PAYOUTS",r],select:e=>e.data,enabled:!!t})}}({defaultFilters:{period:{value:u.ei.lastMonth,id:u.tN.lastMonth},limit:10}});return(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsxs)(i.QQ.Header,{children:[(0,r.jsx)(i.QQ.Title,{children:"Payouts"}),(0,r.jsx)(i.QQ.HeaderAction,{children:(0,r.jsx)(i.xu,{minWidth:"20rem",children:(0,r.jsx)(eA,{updatePeriod:n=>e.updateFilter({period:n}),period:e.filters.period})})})]}),(0,r.jsx)(i.xu,{pt:"xl",children:(0,r.jsx)(ev,{payouts:n,pagination:e})})]})}let eR=e=>{let{payoutSchedule:n}=e,t=eU.find(e=>{let{value:t}=e;return t===n});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.xv,{color:"waterloo",children:"Payout schedule type"}),t?(0,r.jsxs)(i.u.Root,{children:[(0,r.jsx)(i.u.Trigger,{children:(0,r.jsx)(i.xv,{color:"pickledBluewood",children:t.label})}),(0,r.jsx)(i.u.Content,{children:t.description})]}):(0,r.jsx)(i.xv,{color:"pickledBluewood",children:"-"})]})};function eQ(e){let{children:n}=e,{data:t}=(0,c.Z)();return(0,r.jsxs)(i.uG,{children:[(0,r.jsx)(i.xv,{color:"waterloo",children:"Payout trigger amount"}),(0,r.jsx)(i.xv,{color:"pickledBluewood",children:(0,u.ed)({currency:(null==t?void 0:t.account.payoutCurrency)||u.NE.USD,value:(null==t?void 0:t.account.minimalPayoutAmount)||0})}),(0,r.jsx)(i.xv,{color:"waterloo",children:"Refund reserve amount"}),(0,r.jsx)(i.xv,{color:"pickledBluewood",children:(0,u.ed)({currency:(null==t?void 0:t.account.payoutCurrency)||u.NE.USD,value:(null==t?void 0:t.account.refundReserve)||0,maximumFractionDigits:6,notation:"standard"})}),n]})}var eT=t(18159),eI=t(44065),ez=t(6491),eP=t(83160),eB=t(60963);function eN(){let e=(0,M._)(["\n  all: unset;\n  display: block;\n"]);return eN=function(){return e},e}let eF=G.zo.fieldset(eN()),e_=ez.z.object({minimalPayoutAmount:ez.z.coerce.number().int(u.p8.Integer).min(35,(0,u.e$)(u.p8.LeastVal,35)).max(999999,(0,u.e$)(u.p8.MostVal,999999)),refundReserve:ez.z.coerce.number().int(u.p8.Integer).min(25,(0,u.e$)(u.p8.LeastVal,25)).max(999999,(0,u.e$)(u.p8.MostVal,999999)),payoutSchedule:ez.z.enum(P.xz)}).refine(e=>{let{minimalPayoutAmount:n,refundReserve:t}=e;return n>t},{message:"Refund reserve amount should be less than payout trigger amount",path:["refundReserve"]});function eM(e){var n,t;let{closeForm:a}=e,{mutate:o,isPending:l}=(0,eB.Z)(),{data:s}=(0,c.Z)(),d=(0,i.pm)(),{formState:{isDirty:u,errors:x,isSubmitSuccessful:h},handleSubmit:m,register:p,control:j,reset:f}=(0,eI.cI)({defaultValues:{minimalPayoutAmount:Number(null==s?void 0:s.account.minimalPayoutAmount),payoutSchedule:(null==s?void 0:s.account.payoutSchedule)||"daily",refundReserve:Number(null==s?void 0:s.account.refundReserve)},resolver:(0,eT.F)(e_),mode:"onTouched"}),{openUnsavedAlertDialog:y,UnsavedAlert:v}=(0,eP.Q)({onDiscard(){a(),f()},shouldConfirmLeave:u&&!h}),g=m(e=>{o({account:e},{onSuccess:()=>{d({message:"Payout configuration successfully changed",variant:"success"}),a()}})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:g,children:[(0,r.jsx)(i.UP,{...p("minimalPayoutAmount"),description:"The minimum amount of earnings that you must accumulate before payout.",errorMessage:null===(n=x.minimalPayoutAmount)||void 0===n?void 0:n.message,rightIcon:(0,r.jsx)(i.xv,{fontWeight:"semibold",children:"$"}),placeholder:"Enter payout trigger amount",label:"Payout trigger amount",id:"minimalPayoutAmount",type:"number"}),(0,r.jsx)(i.UP,{...p("refundReserve"),description:"A refund reserve is a designated fund to cover potential future refunds, chargebacks, or any other financial losses.",rightIcon:(0,r.jsx)(i.xv,{fontWeight:"semibold",children:"$"}),errorMessage:null===(t=x.refundReserve)||void 0===t?void 0:t.message,placeholder:"Enter refund reserve amount",label:"Refund reserve amount",id:"refundReserve",type:"number"}),(0,r.jsx)(i.xu,{pb:"md",children:(0,r.jsxs)(eF,{children:[(0,r.jsx)(i.xu,{pb:"sm",children:(0,r.jsx)(i.__,{as:"legend",children:"Payout schedule type"})}),(0,r.jsx)(eI.Qr,{render:e=>{let{field:n}=e;return(0,r.jsx)(i.Ee.Root,{onValueChange:n.onChange,value:n.value,required:!0,children:(0,r.jsx)(i.kC,{flexDirection:"column",gridGap:"xs",children:eU.map(e=>{let{description:n,value:t,label:a}=e;return(0,r.jsx)(i.Ee.Item,{description:n,value:t,variant:"md",children:a},t)})})})},name:"payoutSchedule",control:j})]})}),(0,r.jsxs)(i.QQ.ContentAction,{children:[(0,r.jsx)(i.zx,{onClick:y,disabled:l,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,r.jsx)(i.zx,{$loading:l,variant:"primary",type:"submit",size:"md",children:"Save"})]})]}),(0,r.jsx)(v,{})]})}let eU=[{description:"at 07:00 AM CET",label:"Daily",value:"daily"},{description:"every Monday at 07:00 AM CET",label:"Weekly",value:"weekly"},{description:"every first of the month at 07:00 AM CET",label:"Monthly",value:"monthly"}];function eL(){let{data:e}=(0,c.Z)(),[n,t]=(0,m.useState)(!1),{hasAccess:a}=(0,q.Z)(),{data:o}=(0,el.Z)(),s=null==e?void 0:e.isAdyen,d=!!(null==o?void 0:o.blockOrganizationPayoutUpdate),u=s&&!n&&a&&!d;return(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsxs)(i.QQ.Header,{children:[(0,r.jsxs)(i.QQ.Title,{children:["Payout ",d?"information":"configuration"]}),(0,r.jsx)(i.QQ.HeaderAction,{children:u&&(0,r.jsx)(i.zx,{onClick:()=>t(!0),variant:"secondary",size:"lg",children:"Edit"})})]}),d&&(0,r.jsxs)(i.QQ.Description,{children:["This is your current payout configuration.",(0,r.jsx)("br",{}),"If you want to change it you have to contact our support directly\xa0",(0,r.jsx)(i.ee,{href:"mailto:".concat(l.Z),children:l.Z})]}),(0,r.jsxs)(i.QQ.Content,{children:[!n&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(eQ,{children:s&&(0,r.jsx)(eR,{payoutSchedule:null==e?void 0:e.account.payoutSchedule})})}),s&&n&&(0,r.jsx)(i.Uo,{children:(0,r.jsx)(eM,{closeForm:()=>t(!1)})})]})]})}var eO=t(93133),eG=t(1222),eW=t(50772),e$=t(82183),eJ=t(72971);function eq(){let[e,n]=(0,m.useState)(!1),{isError:t,refetch:a,data:o}=(0,eJ.Z)();return t?(0,r.jsx)(i.Te,{retry:()=>a(),resource:"payouts"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.rj,{gridTemplateColumns:{desktop:"repeat(auto-fill, minmax(30rem, 1fr))",mobile:"100%"},gridGap:{desktop:"xl",mobile:"xs"},children:[(0,r.jsxs)(i.Rm.Root,{children:[(0,r.jsxs)(i.Rm.Title,{children:["Next payout amount"," ",(0,r.jsxs)(i.J2.Root,{children:[(0,r.jsx)(i.J2.Trigger,{asChild:!0,children:(0,r.jsx)(eG.Z,{})}),(0,r.jsxs)(i.J2.Content,{children:[(0,r.jsx)(i.J2.Title,{icon:(0,r.jsx)(eO.Z,{}),children:"Next payout amount"}),(0,r.jsxs)(i.J2.Description,{children:["Next payout amount is the net amount of money that will be transferred to your account in the next payout cycle. The given value is already reduced with gateway fees.",(0,r.jsx)("br",{}),"Learn more about our"," ",(0,r.jsx)(i.ee,{onClick:()=>n(!0),type:"button",as:"button",children:"Pricing policy"})]})]})]})]}),(0,r.jsx)(i.Rm.Value,{children:(null==o?void 0:o.payoutAmount)===void 0?void 0:(0,r.jsx)(eW.Z,{currency:o.payoutCurrency||u.NE.USD,value:o.payoutAmount||0})})]}),(0,r.jsxs)(i.Rm.Root,{children:[(0,r.jsxs)(i.Rm.Title,{children:["Next payout"," ",(0,r.jsxs)(i.J2.Root,{children:[(0,r.jsx)(i.J2.Trigger,{asChild:!0,children:(0,r.jsx)(eG.Z,{})}),(0,r.jsxs)(i.J2.Content,{children:[(0,r.jsx)(i.J2.Title,{icon:(0,r.jsx)(eO.Z,{}),children:"Next payout"}),(0,r.jsxs)(i.J2.Description,{children:["Payouts are made daily, provided that you have reached the minimum payout amount. If you have not yet reached the minimum payout amount, ",(0,r.jsx)("br",{})," your earnings will be carried over to the following payout cycle."]})]})]})]}),(0,r.jsx)(i.Rm.Value,{children:(null==o?void 0:o.payoutDate)===void 0?void 0:o.payoutDate?(0,u.s2)(o.payoutDate):null})]})]}),(0,r.jsx)(e$.u,{onOpenChange:n,open:e})]})}function eV(e){let{gateway:n}=e,{isLoading:t,data:a}=(0,el.Z)();return t?(0,r.jsx)(i.Ib,{loading:!0}):(null==a?void 0:a.canPayout)?n.isEnabled?(0,r.jsxs)(i.kC,{flexDirection:"column",gridGap:"xl",children:[(null==a?void 0:a.canSendToTransferInstrument)?null:(0,r.jsxs)(i.bZ,{variant:"warning",children:["Your payouts are currently blocked. Please reach out to",(0,r.jsxs)(i.ee,{href:"mailto:".concat(l.Z),children:[" ",l.Z," "]}),"to resolve the issue"]}),(0,r.jsx)(eq,{}),!(null==a?void 0:a.blockOrganizationPayoutUpdate)&&(0,r.jsx)(eL,{}),(0,r.jsx)(eE,{})]}):(0,r.jsx)(i.bZ,{variant:"error",children:"This section will only be available once the payment gateway is properly connected."}):(0,r.jsx)(es.Z,{})}let eH=e=>e?"**** ".concat(e):"",eX=e=>{let{label:n,value:t}=e;return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.xv,{color:"waterloo",children:n}),(0,r.jsx)(i.xv,{children:t})]}):null};var eY=e=>{let{billingInfo:n}=e;return(0,r.jsxs)(i.QQ.Root,{children:[(0,r.jsx)(i.QQ.Header,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(i.QQ.Title,{children:"Billing information"}),(0,r.jsxs)(i.QQ.Description,{children:["Billing information was set during your registration process. If you want to change it you have to contact our support directly\xa0",(0,r.jsx)(i.ee,{href:"mailto:".concat(l.Z),children:l.Z})]})]})}),(0,r.jsx)(i.QQ.Content,{children:(0,r.jsxs)(i.uG,{children:[(0,r.jsx)(eX,{value:eH(n.numberLastFour),label:"Bank account number"}),(0,r.jsx)(eX,{value:eH(n.ibanLastFour),label:"IBAN"}),(0,r.jsx)(eX,{value:eH(n.numberOrIbanLastFour),label:"IBAN or number"}),(0,r.jsx)(eX,{label:"Type of bank account",value:n.type}),(0,r.jsx)(eX,{label:"Bank country",value:n.bankCountry}),(0,r.jsx)(eX,{label:"Bank address state",value:n.bankState}),(0,r.jsx)(eX,{label:"Bank province",value:n.bankProvince}),(0,r.jsx)(eX,{label:"Bank city",value:n.bankCity}),(0,r.jsx)(eX,{label:"Bank name",value:n.bankName})]})})]})},eK=t(81244),e0=t(25343),e1=t(18208);function e3(e){let{gateway:n}=e,{data:t}=(0,c.Z)();return(null==n?void 0:n.status)===P.XB.CONNECTED&&n.isEnabled?(0,r.jsxs)(i.kC,{flexDirection:"column",gridGap:"xl",children:[(0,r.jsx)(eY,{billingInfo:(null==t?void 0:t.account)||{}}),(0,r.jsx)(eK.Z,{gateway:n}),(0,r.jsx)(e0.Z,{gateway:n}),(0,r.jsx)(e1.Z,{gateway:n})]}):(0,r.jsx)(i.bZ,{variant:"error",children:"This section will only be available once the payment gateway is properly connected."})}var e2=t(85493),e8=t(75251);let e9=["overview","payouts","settings"],e5=()=>{let{data:e,isPending:n,isError:t}=(0,J.Z)("default"),[o,l]=(0,a.useQueryParam)("tab",(0,a.withDefault)((0,a.createEnumParam)([...e9]),"overview"));return((0,e8.Z)(e,n),n)?(0,r.jsx)(i.Ib,{loading:!0}):t?(0,r.jsx)(i.xu,{width:"fit-content",m:"sm",children:(0,r.jsx)(i.Te,{resource:"gateway"})}):(0,r.jsx)(e2.Z,{showEnableSwitch:!1,gateway:e,children:(0,r.jsxs)(i.mQ.Root,{onValueChange:e=>l(e),value:o,children:[(0,r.jsxs)(i.mQ.List,{children:[(0,r.jsx)(i.mQ.Trigger,{value:"overview",children:"Overview"}),(0,r.jsx)(i.mQ.Trigger,{value:"payouts",children:"Payouts"}),(0,r.jsx)(i.mQ.Trigger,{value:"settings",children:"Settings"})]}),(0,r.jsxs)(i.xu,{pt:"xl",children:[(0,r.jsx)(i.mQ.Content,{value:"overview",children:(0,r.jsx)(eo,{})}),(0,r.jsx)(i.mQ.Content,{value:"payouts",children:(0,r.jsx)(eV,{gateway:e})}),(0,r.jsx)(i.mQ.Content,{value:"settings",children:(0,r.jsx)(e3,{gateway:e})})]})]})})};e5.getLayout=e=>(0,r.jsx)(o.Z,{children:e});var e6=e5},70318:function(e,n,t){"use strict";var r=t(55826);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{d:"M13.309 3h-10a1 1 0 0 0 0 2h10a1 1 0 1 0 0-2M11.309 7h-6a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2M9.309 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2"}))});n.Z=i},59675:function(e,n,t){"use strict";var r=t(55826);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("circle",{cx:8.25,cy:8,r:8}),r.createElement("path",{stroke:"#fff",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.75 2.871V8h5.129"}))});n.Z=i},74715:function(e,n,t){"use strict";var r=t(55826);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("circle",{cx:8.25,cy:8,r:8}),r.createElement("path",{fill:"#fff",d:"M9.051 9.36 9.383 3H7.13l.333 6.36zM8.25 13a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"}))});n.Z=i},44726:function(e,n,t){"use strict";var r=t(55826);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 68 68",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("g",{filter:"url(#filter0_d_41213_15509)"},r.createElement("circle",{cx:34,cy:30,r:24,fill:"white"})),r.createElement("circle",{cx:34,cy:30,r:20,fill:"url(#paint0_linear_41213_15509)"}),r.createElement("path",{fill:"white",d:"M36.639 18H31.4961L32.3532 33.4286H35.7818L36.639 18Z"}),r.createElement("path",{fill:"white",d:"M34.0673 41.9983C35.4874 41.9983 36.6387 40.8471 36.6387 39.4269C36.6387 38.0067 35.4874 36.8555 34.0673 36.8555C32.6471 36.8555 31.4958 38.0067 31.4958 39.4269C31.4958 40.8471 32.6471 41.9983 34.0673 41.9983Z"}),r.createElement("defs",null,r.createElement("filter",{id:"filter0_d_41213_15509",width:68,height:68,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feMorphology",{in:"SourceAlpha",operator:"erode",radius:2,result:"effect1_dropShadow_41213_15509"}),r.createElement("feOffset",{dy:4}),r.createElement("feGaussianBlur",{stdDeviation:6}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.92549 0 0 0 0 0.945098 0 0 0 0 0.952941 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow_41213_15509"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_41213_15509",mode:"normal",result:"shape"})),r.createElement("linearGradient",{id:"paint0_linear_41213_15509",x1:18.9107,x2:51.9757,y1:46.0883,y2:12.1967,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#EB9700"}),r.createElement("stop",{offset:1,stopColor:"#FFCD93"}))))});n.Z=i},51685:function(e,n,t){"use strict";t.d(n,{xp:function(){return f}});var r=t(55826),i=t(13550),a=t(88657),o=t(53431),l=t(16107),s=t(47551),c=t(8525),d=t(93209),u=t(46203),x=t(95488),h=t(37099);function m(e){return!h.a(e).length}var p={search:"",limit:20,page:1},j=["search","page","limit","sortDirection","sortBy"];function f(e){let[n,t]=(0,x.useQueryParam)(e?.token||"filters",{decode:n=>{if(n&&i.a(n))try{return u.ZP.parse(decodeURI(n))}catch{return{...p,...e?.defaultFilters}}return n},default:{...p,...e?.defaultFilters},encode:e=>u.ZP.stringify(e),equals:(e,n)=>a.a(e,n)}),h=(0,r.useCallback)(e=>{t({...n,page:p.page,...e})},[n,t]),f=(0,r.useCallback)(e=>Object.values(o.a(n,[...j,...e||[]])).reduce((e,n)=>{if(l.a(n)){if(s.a(n))return m(n)?e:e+1;if(!c.a(n)&&d.a(n)&&"value"in n){let t=n.value;return t?m(t)?e:e+1:e}return e+1}return e},0),[n]),y=(0,r.useCallback)(e=>{h({page:e})},[h]),v=(0,r.useCallback)(()=>{t({...p,...e?.defaultFilters})},[e?.defaultFilters,t]),g=(0,r.useCallback)(({sortBy:e,sortDirection:t})=>{h({sortDirection:void 0!==t?t:"asc"===n.sortDirection?"desc":"asc",sortBy:e})},[h,n.sortDirection]),b=(0,r.useCallback)(e=>({sortDirection:n.sortBy===e?n.sortDirection:void 0,sort:()=>g({sortBy:e})}),[n.sortBy,n.sortDirection,g]);return{filters:{...o.a(n,["page","limit","sortBy","sortDirection"])},sortDirection:n.sortDirection,getActiveFiltersCount:f,sortBy:n.sortBy,limit:n.limit,page:n.page,getSortingProps:b,updateFilter:h,clearFilters:v,updatePage:y,updateSort:g}}}},function(e){e.O(0,[6843,3993,2627,5953,8159,7912,6829,7382,9855,3164,3099,4571,626,2756,7617,2888,9774,179],function(){return e(e.s=80841)}),_N_E=e.O()}]);