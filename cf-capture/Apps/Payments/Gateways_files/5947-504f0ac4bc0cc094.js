try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="13b9dbce-bacb-45e7-a750-e621d0355372",e._sentryDebugIdIdentifier="sentry-dbid-13b9dbce-bacb-45e7-a750-e621d0355372")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5947],{83160:function(e,n,t){t.d(n,{Q:function(){return d}});var i=t(70813),l=t(38220),r=t(55826);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldConfirmLeave:!0},{shouldConfirmLeave:n,beforeUnload:t}=e,i=(0,r.useCallback)(async e=>{t&&await t(),e.preventDefault(),e.returnValue=""},[t]);(0,r.useEffect)(()=>(window&&n&&window.addEventListener("beforeunload",i),()=>{window&&n&&window.removeEventListener("beforeunload",i)}),[i,n])};var o=t(43381),s=e=>{let{shouldConfirmLeave:n}=e,[t,i]=(0,r.useState)(!1),[l,a]=(0,r.useState)(null),s=(0,o.useRouter)(),d=(0,r.useCallback)(e=>{if(n)throw i(!0),a(e),"cancelRouteChange"},[n]),c=()=>{s.events.off("routeChangeStart",d)};return(0,r.useEffect)(()=>(s.events.on("routeChangeStart",d),()=>{s.events.off("routeChangeStart",d)}),[d]),{onConfirmRouteChange:()=>{i(!1),c(),l&&s.push(l)},onRejectRouteChange:()=>{a(null),i(!1)},isRejected:t}};let d=e=>{let{shouldConfirmLeave:n,onDiscard:t,onCancel:o}=e,[d,c]=(0,r.useState)(!1),{onConfirmRouteChange:u,onRejectRouteChange:h,isRejected:m}=s({shouldConfirmLeave:n}),f=(0,r.useCallback)(()=>{t(),u()},[t,u]),v=(0,r.useCallback)(()=>{c(!1),h()},[h]),g=(0,r.useCallback)(()=>{n?c(!0):o?o():t()},[n,o,t]);return a({shouldConfirmLeave:n}),{openUnsavedAlertDialog:g,UnsavedAlert:(0,r.useCallback)(()=>(0,i.jsx)(l.aR.Root,{open:m||d,children:(0,i.jsxs)(l.aR.Content,{children:[(0,i.jsx)(l.aR.Title,{children:"Unsaved changes"}),(0,i.jsx)(l.aR.Description,{children:"Are you sure you want to discard unsaved changes?"}),(0,i.jsxs)(l.aR.Action,{children:[(0,i.jsx)(l.aR.Cancel,{onClick:v,children:"Cancel"}),(0,i.jsx)(l.aR.Submit,{onClick:f,children:"Discard"})]})]})}),[v,f,m,d])}}},2524:function(e,n,t){t.d(n,{Z:function(){return k}});var i=t(70813),l=t(68437),r=t(38220),a=t(31791),o=t(66843),s=t.n(o),d=t(50288),c=t(14755),u=t(87563),h=t(12353);function m(){let e=(0,a._)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: all 300ms;\n\n  width: 2.4rem;\n  height: 2.4rem;\n\n  color: ",";\n\n  border-width: 1px;\n  border-style: solid;\n  border-radius: ",";\n  border-color: ",";\n"]);return m=function(){return e},e}function f(){let e=(0,a._)(["\n  &[data-active] {\n    "," {\n      color: ",";\n      border-color: ",";\n      background-color: ",";\n    }\n  }\n\n  &[data-blocked] {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n"]);return f=function(){return e},e}let v=d.zo.span(m(),l.Q2.colors.waterloo,l.Q2.radii.xs,l.Q2.colors.mystic),g=(0,d.zo)(r.i9.Link)(f(),v,l.Q2.colors.white,l.Q2.colors.blueRibbon,l.Q2.colors.blueRibbon);function x(e){let{links:n}=e,{data:t}=(0,u.Z)(),a=(0,c.Z)(),o=(0,h.X6)();return(0,i.jsx)(r.i9.Root,{orientation:"vertical",children:(0,i.jsx)(r.i9.List,{children:n.map(e=>{let{title:n,href:d,icon:c}=e;return(0,i.jsx)(r.i9.Item,{children:(0,i.jsx)(g,{"data-blocked":"Billing"!==n&&null!=t&&!!t.isBlocked||void 0,active:a(d,!1),asChild:!0,children:(0,i.jsx)(s(),{href:{query:{orgId:o},pathname:d},children:(0,i.jsxs)(r.xu,{display:"grid",alignItems:"center",gridTemplateColumns:"".concat(l.Q2.space.xl," 1fr"),gap:"xs",children:[(0,i.jsx)(v,{children:c}),n]})})},n)},n)})})})}function p(){let e=(0,a._)(["\n  &[data-blocked] {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n"]);return p=function(){return e},e}function b(){let e=(0,a._)(["\n  padding-left: ",";\n  padding-right: ",";\n"]);return b=function(){return e},e}let w=(0,d.zo)(r.i9.Link)(p()),y=(0,d.zo)(r.i9.List)(b(),l.Q2.space.sm,l.Q2.space.sm);function j(e){let{links:n}=e,{data:t}=(0,u.Z)(),l=(0,c.Z)(),a=(0,h.X6)();return(0,i.jsx)(r.i9.Root,{children:(0,i.jsx)(y,{children:n.map(e=>(0,i.jsx)(r.i9.Item,{children:(0,i.jsx)(w,{"data-blocked":"Billing"!==e.title&&null!=t&&!!t.isBlocked||void 0,active:l(e.href),asChild:!0,children:(0,i.jsx)(s(),{href:{query:{orgId:a},pathname:e.href},children:e.title})})},e.href))})})}function k(e){let{children:n,links:t,title:a}=e;return(0,i.jsxs)(r.xu,{display:["block","block","block","grid"],gridTemplateColumns:"22rem 1fr",minHeight:"100%",children:[(0,i.jsx)(r.ZN,{children:(0,i.jsxs)(r.xu,{backgroundColor:"white",pt:"xl",children:[(0,i.jsx)(r.xv,{color:"pickledBluewood",fontFamily:"heading",fontWeight:"medium",lineHeight:"small",mb:"xl",px:"sm",children:a}),(0,i.jsx)(j,{links:t})]})}),(0,i.jsx)(r.Nl,{children:(0,i.jsx)(r.xu,{boxShadow:"1px 0px 0px ".concat(l.Q2.colors.mystic,", 0px 1px 0px ").concat(l.Q2.colors.mystic,", 0px 1px 2px rgba(218, 228, 232, 0.5)"),backgroundColor:"athensGray",children:(0,i.jsx)(r.xu,{position:"sticky",top:"0",p:"xl",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(r.xv,{color:"pickledBluewood",fontFamily:"heading",fontWeight:"medium",mb:"xl",children:a}),(0,i.jsx)(x,{links:t})]})})})}),(0,i.jsx)(r.kC,{p:["md","md","md","xl"],flexDirection:"column",gridGap:"xl",children:n})]})}},41240:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(70813),l=t(55826);let r=l.forwardRef(function({title:e,titleId:n,...t},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 13",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?l.createElement("title",{id:n},e):null,l.createElement("path",{d:"M5.051.941a3.31 3.31 0 1 0 0 6.62 3.31 3.31 0 0 0 0-6.62m-1.986 3.31a1.986 1.986 0 1 1 3.971-.085 1.986 1.986 0 0 1-3.971.085m6.62 8.607H8.361a3.31 3.31 0 1 0-6.62 0H.416a4.635 4.635 0 0 1 9.268 0"}))});var a=t(94113);let o=l.forwardRef(function({title:e,titleId:n,...t},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":n},t),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M2.25.796h12v14.321l-2.4-1.6-1.8 1.2-1.8-1.2-1.8 1.2-1.8-1.2-2.4 1.6zm1.2 1.2v10.879l1.2-.8 1.8 1.2 1.8-1.2 1.8 1.2 1.8-1.2 1.2.8V1.995zm4.8 2.4a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4m-2.4 1.2a2.4 2.4 0 1 1 4.8 0 2.4 2.4 0 0 1-4.8 0m-1.2 3.6h4.2v1.2h-4.2zm5.4 0h1.8v1.2h-1.8z",clipRule:"evenodd"}))});var s=t(59243),d=t(38421),c=t(84435),u=t(37013),h=t(2524);let m=[{href:"/[orgId]/settings/general",icon:(0,i.jsx)(r,{}),title:"General"},{href:"/[orgId]/settings/members",icon:(0,i.jsx)(a.Z,{}),title:"Members"},{href:"/[orgId]/settings/billing",icon:(0,i.jsx)(o,{}),title:"Billing"},{href:"/[orgId]/settings/taxes",icon:(0,i.jsx)(s.Z,{}),title:"Taxes"},{href:"/[orgId]/settings/mails",icon:(0,i.jsx)(d.Z,{}),title:"System mails"}],f={href:"/[orgId]/settings/logs",icon:(0,i.jsx)(c.Z,{}),title:"Logs"},v=()=>{let{hasAccess:e}=(0,u.Z)(["owner"]);return e?[...m,f]:m};function g(e){let{children:n}=e,t=v();return(0,i.jsx)(h.Z,{title:"Organization settings",links:t,children:n})}},44568:function(e,n,t){t.d(n,{Q:function(){return c},Z:function(){return u}});var i=t(31552),l=t(23808),r=t(3997),a=t(81516),o=t(94216),s=t(12353),d=t(90844);let c="MEMBERS";function u(e){let n=(0,s.X6)();return(0,l.a)({queryFn:async()=>{let e=(await o.w.getMembers(n)).data.data.map(e=>({...e,name:"".concat((null==e?void 0:e.firstName)||""," ").concat((null==e?void 0:e.lastName)||"").trim()})),t=d.Bs.array().parse(e);return r.a(t,a.a((e,n)=>e.email.localeCompare(n.email)),a.a((e,n)=>i.XY.indexOf(e.status)-i.XY.indexOf(n.status)))},queryKey:[n,c],enabled:!!n,select:e})}},49321:function(e,n,t){t.d(n,{s:function(){return y},Z:function(){return j}});var i=t(70813),l=t(55826),r=t(18159),a=t(74775),o=t(28639),s=t(38220),d=t(44065),c=t(6491),u=t(83160),h=t(13684),m=t(31552),f=t(33618),v=t(68863),g=t(93963),x=t(94216),p=t(12353),b=t(44568);let w=c.z.object({invitees:c.z.array(c.z.object({email:c.z.string().trim().toLowerCase().min(1,f.p8.Required).email(f.p8.Email),role:c.z.enum(m.UB)})).superRefine((e,n)=>{e.forEach((t,i)=>{e.filter((e,n)=>n!==i).find(e=>e.email===t.email)&&n.addIssue({message:"Duplicate emails not allowed.",code:c.z.ZodIssueCode.custom,path:[i,"email"]})})})}),y=[{description:"Full access and control",label:"Admin",value:"admin"},{description:"Can create, edit and suggest, but cannot approve or modify settings",value:"editor",label:"Editor"},{description:"Can read only",label:"Reader",value:"reader"}];function j(e){let{onCancel:n}=e,{isPending:t,mutate:m}=function(){let e=(0,p.X6)(),n=(0,v.NL)(),t=(0,s.pm)();return(0,g.D)({mutationFn:n=>x.w.inviteUsers(e,n),onSuccess:(i,l)=>{let{invitees:r}=l;n.invalidateQueries({queryKey:[e,b.Q]}),t({title:"Your invitatio".concat(r.length>1?"ns":"n"," ").concat(r.length>1?"have":"has"," been sent!"),message:"You will receive an email when a new member joins your organization.",variant:"success"})}})}(),{data:f}=(0,h.Z)(),j=(0,b.Z)(),{formState:{isSubmitSuccessful:k,isDirty:C,errors:R},handleSubmit:E,register:z,control:Z,watch:I}=(0,d.cI)({resolver:(0,r.F)(w.superRefine((e,n)=>{let{invitees:t}=e;t.forEach((e,t)=>{var i;e.email===(null==f?void 0:f.email)&&n.addIssue({message:"Cannot invite yourself.",path:["invitees",t,"email"],code:c.z.ZodIssueCode.custom}),(null==j?void 0:null===(i=j.data)||void 0===i?void 0:i.find(n=>{let{status:t,email:i}=n;return i===e.email&&"active"===t}))&&n.addIssue({message:"User is already an active member.",path:["invitees",t,"email"],code:c.z.ZodIssueCode.custom})})})),defaultValues:{invitees:[{role:"reader",email:""}]},mode:"onTouched"}),S=(0,d.Dq)({name:"invitees",control:Z}),M=I("invitees").map(e=>{var n;let{email:t}=e;return null!=j&&null!==(n=j.data)&&void 0!==n&&!!n.find(e=>{let{email:n,status:i}=e;return t===n&&"pending"===i})}),{openUnsavedAlertDialog:Q,UnsavedAlert:B}=(0,u.Q)({shouldConfirmLeave:C&&!k,onDiscard:n}),L=E(e=>{m(e,{onSuccess:n})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{onSubmit:L,children:[S.fields.map((e,n)=>{var t,r,o;return(0,i.jsxs)(s.rj,{gridTemplateColumns:"5fr 2fr auto",gridGap:"md",children:[(0,l.createElement)(s.UP,{...z("invitees.".concat(n,".email")),description:M[n]&&"The user with the provided email address has already received an invitation link from you. However, you can resend it if you wish.",errorMessage:null==R?void 0:null===(o=R.invitees)||void 0===o?void 0:null===(r=o[n])||void 0===r?void 0:null===(t=r.email)||void 0===t?void 0:t.message,label:"Person ".concat(n+1),placeholder:"Add email here",key:e.id,id:e.id,type:"email"}),(0,i.jsx)(d.Qr,{render:e=>{var t;let{field:l}=e;return(0,i.jsx)(s.SP,{id:"role-".concat(n),label:"Role",children:(0,i.jsxs)(s.Ph.Root,{onValueChange:l.onChange,value:l.value,name:l.name,children:[(0,i.jsx)(s.Ph.Trigger,{id:"role-".concat(n),children:null===(t=y.find(e=>{let{value:n}=e;return n===l.value}))||void 0===t?void 0:t.label}),(0,i.jsx)(s.Ph.Content,{children:y.map(e=>(0,i.jsxs)(s.Ph.Item,{value:e.value,children:[(0,i.jsx)(s.xv,{fontSize:"bodySmall",children:e.label}),(0,i.jsx)(s.xv,{fontSize:"bodySmall",color:"waterloo",children:e.description})]},e.value))})]})})},name:"invitees.".concat(n,".role"),control:Z},e.id),(0,i.jsx)(s.xu,{pt:"xl",children:(0,i.jsxs)(s.u.Root,{children:[(0,i.jsx)(s.u.Trigger,{children:(0,i.jsx)("span",{children:(0,i.jsx)(s.hU,{disabled:1===S.fields.length,onClick:()=>S.remove(n),"aria-label":"Remove user",variant:"secondary",type:"button",size:"lg",children:(0,i.jsx)(a.Z,{})})})}),1===S.fields.length?(0,i.jsx)(s.u.Content,{children:"A single user cannot be removed."}):null]})})]},e.id)}),(0,i.jsxs)(s.zx,{onClick:()=>{S.append({role:"reader",email:""})},variant:"secondary",type:"button",size:"md",children:[(0,i.jsx)(o.Z,{})," Add another"]}),(0,i.jsxs)(s.kC,{justifyContent:"space-between",pt:"2xl",children:[(0,i.jsx)(s.zx,{onClick:Q,disabled:t,variant:"secondary",type:"button",size:"lg",children:"Cancel"}),(0,i.jsx)(s.zx,{$loading:t,variant:"primary",type:"submit",size:"lg",children:"Invite"})]})]}),(0,i.jsx)(B,{})]})}},38421:function(e,n,t){var i=t(55826);let l=i.forwardRef(function({title:e,titleId:n,...t},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:l,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{d:"M15.75 3.5c0-.825-.675-1.5-1.5-1.5h-12c-.825 0-1.5.675-1.5 1.5v9c0 .825.675 1.5 1.5 1.5h12c.825 0 1.5-.675 1.5-1.5zm-1.5 0-6 3.75-6-3.75zm0 9h-12V5l6 3.75 6-3.75z"}))});n.Z=l},59243:function(e,n,t){var i=t(55826);let l=i.forwardRef(function({title:e,titleId:n,...t},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true",fill:"currentColor","data-slot":"icon",height:16,width:16,ref:l,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M13.55.985a.65.65 0 0 1 .12.912l-10 13a.65.65 0 1 1-1.03-.793l10-13a.65.65 0 0 1 .91-.119M4.655 2.151a1.85 1.85 0 1 0 0 3.7 1.85 1.85 0 0 0 0-3.7M1.504 4a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0m8.3 8a1.85 1.85 0 1 1 3.7 0 1.85 1.85 0 0 1-3.7 0m1.85-3.15a3.15 3.15 0 1 0 0 6.3 3.15 3.15 0 0 0 0-6.3",clipRule:"evenodd"}))});n.Z=l},28639:function(e,n,t){var i=t(55826);let l=i.forwardRef(function({title:e,titleId:n,...t},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 15",style:{flexShrink:0,display:"inline-block"},stroke:"currentColor","aria-hidden":"true","data-slot":"icon",height:16,width:16,ref:l,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 2.309v10.5M12.75 7.559H2.25"}))});n.Z=l},74775:function(e,n,t){var i=t(55826);let l=i.forwardRef(function({title:e,titleId:n,...t},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 16",style:{flexShrink:0,display:"inline-block"},stroke:"currentColor","aria-hidden":"true","data-slot":"icon",height:16,width:16,ref:l,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeMiterlimit:10,d:"M13.583 6v8a1.333 1.333 0 0 1-1.333 1.333h-8A1.333 1.333 0 0 1 2.917 14V6M.917 3.334h14.666M5.583 3.333V.667h5.334v2.666M10.25 7.99l-4 4M10.25 11.99l-4-4"}))});n.Z=l}}]);