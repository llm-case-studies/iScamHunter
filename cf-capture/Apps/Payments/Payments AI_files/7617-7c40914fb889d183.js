try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c52a9261-ebf0-4c7b-9d53-4b46e2f31699",e._sentryDebugIdIdentifier="sentry-dbid-c52a9261-ebf0-4c7b-9d53-4b46e2f31699")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7617],{28410:function(e,t,n){n.d(t,{Z:function(){return o},g:function(){return a}});var i=n(23808),l=n(94216),r=n(12353);let a="EMAIL_RECIPIENTS";function o(){let e=(0,r.X6)();return(0,i.a)({queryFn:()=>l.w.getEmailRecipients(e),queryKey:[e,a],select:e=>e.data.data,enabled:!!e})}},59950:function(e,t,n){n.d(t,{Z:function(){return j}});var i=n(70813),l=n(55826);let r=l.forwardRef(function({title:e,titleId:t,...n},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true","data-slot":"icon",height:24,width:24,ref:i,"aria-labelledby":t},n),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fill:"url(#paint0_linear_30762_1685)",fillRule:"evenodd",d:"M12.75 9.29871L14.1415 7.90717L14.6719 7.37684L15.7325 8.4375L15.2022 8.96783L12.5303 11.6397L12 12.17L11.4697 11.6397L8.79779 8.96783L8.26746 8.4375L9.32812 7.37684L9.85845 7.90717L11.25 9.29871V2.20312H12.75V9.29871ZM8.4375 13.9219H3.24369L5.18039 8.1118L5.18044 8.11163C5.24887 7.9062 5.38021 7.72751 5.55587 7.60091C5.73153 7.4743 5.94257 7.4062 6.1591 7.40625L6.9091 7.40643L6.90946 5.90643L6.15946 5.90625C5.62799 5.90612 5.10996 6.07329 4.67881 6.38404C4.2477 6.69477 3.92532 7.13329 3.75736 7.63746L3.75731 7.63763L1.49161 14.4347L1.45312 14.5502V14.6719V20.0156C1.45312 20.687 1.71981 21.3308 2.19451 21.8055C2.66921 22.2802 3.31305 22.5469 3.98438 22.5469H20.0156C20.687 22.5469 21.3308 22.2802 21.8055 21.8055C22.2802 21.3308 22.5469 20.687 22.5469 20.0156V14.6719V14.5503L22.5084 14.4349L20.2445 7.63763C20.0764 7.13298 19.7536 6.6941 19.3219 6.3833C18.8903 6.07251 18.3717 5.90559 17.8398 5.90625L17.0898 5.90718L17.0917 7.40718L17.8417 7.40625C18.0584 7.40598 18.2696 7.47398 18.4455 7.60061C18.6214 7.72723 18.7529 7.90603 18.8213 8.11163L19.5329 7.87463L18.8213 8.11163L20.7566 13.9219H15.5625H14.8125V14.6719V16.5938H9.1875V14.6719V13.9219H8.4375ZM2.95312 20.0156V15.4219H7.6875V17.3438V18.0938H8.4375H15.5625H16.3125V17.3438V15.4219H21.0469V20.0156C21.0469 20.2891 20.9382 20.5514 20.7448 20.7448C20.5514 20.9382 20.2891 21.0469 20.0156 21.0469H3.98438C3.71087 21.0469 3.44857 20.9382 3.25517 20.7448C3.06177 20.5514 2.95312 20.2891 2.95312 20.0156Z",clipRule:"evenodd"}),l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_30762_1685",x1:15.8587,x2:10.3657,y1:2.20313,y2:23.6327,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#062DF7"}),l.createElement("stop",{offset:1,stopColor:"#06BDF7"}))))}),a=l.forwardRef(function({title:e,titleId:t,...n},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{flexShrink:0,display:"inline-block"},"aria-hidden":"true","data-slot":"icon",height:24,width:24,ref:i,"aria-labelledby":t},n),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fill:"url(#paint0_linear_30762_919)",fillRule:"evenodd",d:"M5.51953 2.41113C5.10532 2.41113 4.76953 2.74692 4.76953 3.16113V8.46445C4.76953 8.87867 5.10532 9.21445 5.51953 9.21445C5.93374 9.21445 6.26953 8.87867 6.26953 8.46445V3.91113H17.7332V8.46445C17.7332 8.87867 18.069 9.21445 18.4832 9.21445C18.8974 9.21445 19.2332 8.87867 19.2332 8.46445V3.16113C19.2332 2.74692 18.8974 2.41113 18.4832 2.41113H5.51953ZM3.51505 9.57066C3.2826 9.44668 3.00214 9.45376 2.77624 9.5893C2.55033 9.72484 2.41211 9.96897 2.41211 10.2324V19.6605C2.41211 20.7253 3.27587 21.5891 4.34063 21.5891H19.6613C20.7261 21.5891 21.5898 20.7253 21.5898 19.6605V10.2324C21.5898 9.96897 21.4516 9.72484 21.2257 9.5893C20.9998 9.45376 20.7194 9.44668 20.4869 9.57066L12.001 14.0965L3.51505 9.57066ZM3.91211 19.6605V11.4824L11.648 15.6082C11.8686 15.7259 12.1333 15.7259 12.3539 15.6082L20.0898 11.4824V19.6605C20.0898 19.8969 19.8977 20.0891 19.6613 20.0891H4.34063C4.1043 20.0891 3.91211 19.8969 3.91211 19.6605ZM8.30469 6.69629C8.30469 6.28208 8.64047 5.94629 9.05469 5.94629H14.9473C15.3615 5.94629 15.6973 6.28208 15.6973 6.69629C15.6973 7.1105 15.3615 7.44629 14.9473 7.44629H9.05469C8.64047 7.44629 8.30469 7.1105 8.30469 6.69629ZM9.05469 9.48242C8.64047 9.48242 8.30469 9.81821 8.30469 10.2324C8.30469 10.6466 8.64047 10.9824 9.05469 10.9824H14.9473C15.3615 10.9824 15.6973 10.6466 15.6973 10.2324C15.6973 9.81821 15.3615 9.48242 14.9473 9.48242H9.05469Z",clipRule:"evenodd"}),l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_30762_919",x1:15.5092,x2:10.1648,y1:2.41113,y2:22.5196,gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#062DF7"}),l.createElement("stop",{offset:1,stopColor:"#06BDF7"}))))});var o=n(38220),s=n(66843),d=n.n(s),c=n(12353),u=n(31791),p=n(68437),m=n(50288),f=n(28410),h=n(7004);function b(){let e=(0,u._)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1.5rem 2rem;\n  border-top: 1px solid ",";\n\n  &:last-child {\n    border-bottom: 1px solid ",";\n  }\n"]);return b=function(){return e},e}let x=m.zo.div(b(),p.Q2.colors.mystic,p.Q2.colors.mystic);function g(e){let{setSelectedRecipients:t,selectedRecipients:n,handleClose:r}=e,{data:a}=(0,f.Z)(),{data:s}=(0,h.Z)(),[d,c]=(0,l.useState)(a.filter(e=>e.gatewayReports).map(e=>e.email).map(e=>{var t;return{isSelected:(null===(t=n.find(t=>t.email===e))||void 0===t?void 0:t.isSelected)||!1,email:e}}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.u_.Section,{children:[(0,i.jsxs)(x,{children:[(0,i.jsx)(o.xv,{children:null==s?void 0:s.business.email}),(0,i.jsx)(o.Ct,{variant:"ongoing",children:"Main recipient"})]}),d.map(e=>(0,i.jsxs)(x,{children:[(0,i.jsx)(o.xv,{children:e.email}),(0,i.jsx)(o.rs,{onCheckedChange:()=>{c(d.map(t=>t.email===e.email?{...t,isSelected:!e.isSelected}:t))},checked:e.isSelected,id:e.email})]},e.email))]}),(0,i.jsxs)(o.u_.Action,{children:[(0,i.jsx)(o.zx,{onClick:r,variant:"secondary",type:"button",size:"lg",mr:"sm",children:"Cancel"}),(0,i.jsx)(o.zx,{onClick:()=>{t(d),r()},variant:"primary",type:"button",size:"lg",children:"Proceed"})]})]})}function C(e){let{setSelectedRecipients:t,selectedRecipients:n,onOpenChange:l,open:r}=e,a=(0,c.X6)();return(0,i.jsx)(o.u_.Root,{onOpenChange:l,open:r,children:(0,i.jsxs)(o.u_.Content,{children:[(0,i.jsx)(o.u_.Title,{children:"Gateways reports recipients"}),(0,i.jsxs)(o.u_.Description,{children:["The following e-mail addresses are set to receive Gateway reports according to the"," ",(0,i.jsx)(d(),{href:{pathname:"/[orgId]/settings/mails",query:{orgId:a}},legacyBehavior:!0,passHref:!0,children:(0,i.jsx)(o.ee,{children:"System emails recipient settings"})}),". You can skip individual recipients, for the next report generating."]}),(0,i.jsx)(g,{setSelectedRecipients:t,selectedRecipients:n,handleClose:()=>l(!1)})]})})}function y(e){let{setIsRecipientsModalOpen:t,emailRecipients:n,mainRecipient:r}=e,a=(0,l.useCallback)(()=>{let e=n.filter(e=>{let{isSelected:t}=e;return t});return e.length<1?"Add recipients":1===e.length?"and 1 other recipient":"and ".concat(e.length," other recipients")},[n]);return(0,i.jsxs)(o.kC,{alignItems:{desktop:"flex-start",mobile:"center"},width:{desktop:"unset",mobile:"100%"},justifyContent:"center",flexDirection:"column",children:[(0,i.jsx)(o.xv,{"data-testid":"mainRecipient-text",color:"pickledBluewood",fontSize:"bodySmall",textAlign:"left",children:r}),(0,i.jsx)(o.xv,{"data-testid":"addRecipients-button",fontFamily:"heading",fontSize:"small",as:"span",children:(0,i.jsx)(o.ee,{onClick:()=>t(!0),type:"button",as:"button",children:a()})})]})}let w={download:{label:"Download files",buttonText:"Download",icon:(0,i.jsx)(r,{})},email:{label:"Send to email",buttonText:"Send",icon:(0,i.jsx)(a,{})}};function j(e){let{onDownload:t,onSend:n,disabled:r,loading:a,mainRecipient:s="",availableMethods:d=["download","email"]}=e,[c,u]=(0,l.useState)([]),[p,m]=(0,l.useState)("download"),[f,h]=(0,l.useState)(!1),b=(0,l.useCallback)(()=>{if("download"===p)return null==t?void 0:t();let e=c.filter(e=>e.isSelected).map(e=>e.email);return s&&e.push(s),null==n?void 0:n(e)},[p,t,n,c,s]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("fieldset",{style:{border:"none"},children:[(0,i.jsx)(o.xu,{pb:"sm",children:(0,i.jsx)(o.xv,{color:"pickledBluewood",fontFamily:"heading",as:"legend",children:"Receive method"})}),(0,i.jsxs)(o.kC,{justifyContent:"space-between",flexWrap:"wrap",gridGap:"md",children:[(0,i.jsx)(o.Ee.Root,{onValueChange:m,value:p,required:!0,children:(0,i.jsxs)(o.kC,{alignItems:"center",flexWrap:"wrap",gridGap:"md",children:[d.map(e=>(0,i.jsxs)(o.t0.Root,{checked:p===e,variant:"md",children:[(0,i.jsx)(o.Ee.Item,{value:e,variant:"md",children:w[e].label}),(0,i.jsx)(o.t0.Icon,{variant:"md",children:w[e].icon})]},e)),"email"===p&&(0,i.jsx)(o.Uo,{children:(0,i.jsx)(y,{setIsRecipientsModalOpen:h,mainRecipient:s,emailRecipients:c})})]})}),(0,i.jsx)(o.zx,{$loading:a,onClick:b,disabled:r,variant:"primary",type:"button",size:"lg",children:w[p].buttonText})]})]}),(0,i.jsx)(C,{setSelectedRecipients:u,selectedRecipients:c,onOpenChange:h,open:f})]})}},28212:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e,t){let n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),i=document.createElement("a");i.href=n,i.setAttribute("download","".concat(e)),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},47235:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(67862);function l(e){return(0,i.WU)(e,"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'")}},73255:function(e,t,n){n.d(t,{ZP:function(){return s},uL:function(){return d}});var i=n(70813),l=n(38220),r=n(57399),a=n(60939),o=n(55826);function s(){let[e,t]=(0,o.useState)([0,1]),[n,i]=(0,o.useState)(new Date),[l,a]=(0,o.useState)(0),[s,d]=(0,o.useState)(new Date),[c,u]=(0,o.useState)(0),[p,m]=(0,o.useState)(!1),f=(0,o.useCallback)(e=>{u(e.loaded),d(new Date)},[]);(0,o.useEffect)(()=>{t([c-l,(0,r._)(s,n)/1e3||1]),a(c),i(new Date)},[c,s]);let h=(0,o.useCallback)(()=>{let e=new Date;i(e),a(0),t([0,1]),d(e),u(0),m(!0)},[]);return{toastProps:{bytesAndTime:e,open:p},onDownloadProgress:f,onDownloadFinish:(0,o.useCallback)(()=>{m(!1)},[]),onDownloadStart:h}}let d=e=>{let{bytesAndTime:t,...n}=e;return(0,i.jsxs)(l.FN.Root,{...n,children:[(0,i.jsx)(l.$j,{size:"xs"}),(0,i.jsxs)(l.FN.Content,{children:[(0,i.jsx)(l.FN.Title,{children:"Downloading"}),(0,i.jsxs)(l.FN.Description,{children:["Your file is now downloading. Please wait.",(0,i.jsx)("br",{}),(0,i.jsxs)(l.xv,{fontWeight:"semibold",fontFamily:"inherit",color:"waterloo",fontSize:"small",as:"span",children:[(0,a.Z)(t[0]/t[1]),"/s"]})]})]})]})}},60939:function(e,t,n){n.d(t,{Z:function(){return s}});let i=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],l=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],a=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],o=(e,t,n)=>{let i=e;return"string"==typeof t||Array.isArray(t)?i=e.toLocaleString(t,n):(!0===t||void 0!==n)&&(i=e.toLocaleString(void 0,n)),i};function s(e,t){let n;if(!Number.isFinite(e))throw TypeError(`Expected a finite number, got ${typeof e}: ${e}`);let s=(t={bits:!1,binary:!1,space:!0,...t}).bits?t.binary?a:r:t.binary?l:i,d=t.space?" ":"";if(t.signed&&0===e)return` 0${d}${s[0]}`;let c=e<0,u=c?"-":t.signed?"+":"";if(c&&(e=-e),void 0!==t.minimumFractionDigits&&(n={minimumFractionDigits:t.minimumFractionDigits}),void 0!==t.maximumFractionDigits&&(n={maximumFractionDigits:t.maximumFractionDigits,...n}),e<1)return u+o(e,t.locale,n)+d+s[0];let p=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),s.length-1);return e/=(t.binary?1024:1e3)**p,n||(e=e.toPrecision(3)),u+o(Number(e),t.locale,n)+d+s[p]}}}]);