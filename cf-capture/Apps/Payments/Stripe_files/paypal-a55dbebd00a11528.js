try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="50a8e993-20b1-4365-b62a-82f090087a6a",e._sentryDebugIdIdentifier="sentry-dbid-50a8e993-20b1-4365-b62a-82f090087a6a")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9168],{60617:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[orgId]/gateways/paypal",function(){return n(8173)}])},80776:function(e,r,n){"use strict";n.d(r,{AN:function(){return x},IR:function(){return t},Kb:function(){return o},N9:function(){return i},SW:function(){return d},Wh:function(){return s},b5:function(){return u},hh:function(){return c},n3:function(){return h},pW:function(){return l},qV:function(){return p},sU:function(){return a}});let s=/^[a-zA-Z0-9/:.-]+$/,t=/^([a-zA-Z0-9,./])([a-zA-Z0-9, \-()./]*)$/,i=/^[a-zA-ZÀ-ž0-9\/\ '.]+$/,a=/^[a-zA-ZÀ-ž0-9\/\ '.,()#;:'&]+$/,c=/^[A-Za-z0-9\s]*$/g,o=/^[0-9]*$/g,d=/^[\w\d\s\-]+$/,l=/^[A-Z]\d[A-Z] ?\d[A-Z]\d$/,u=/^\d{5}(\d{4})?$/,x=/^[A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2}$/,h=RegExp("^[\\w\\s\\-\\p{L},.']+$","u"),p=/^\d{2}\-\d{7}$/},91573:function(e,r,n){"use strict";var s=n(70813),t=n(38220);r.Z=e=>{let{currencies:r}=e;return(0,s.jsx)(t.kC,{flexWrap:"wrap",gridGap:"xxs",children:r.map(e=>(0,s.jsx)(t.Ct,{variant:"ongoing",children:e},e))})}},81244:function(e,r,n){"use strict";n.d(r,{Z:function(){return v}});var s=n(70813),t=n(38220),i=n(55826),a=n(37013),c=n(91573);function o(e){let{gateway:r}=e;return(0,s.jsxs)(t.uG,{children:[(0,s.jsx)(t.xv,{color:"waterloo",children:"Gateway currencies"}),(0,s.jsx)(c.Z,{currencies:r.currencies})]})}var d=n(18159),l=n(33618),u=n(44065),x=n(3997),h=n(16348),p=n(12630),j=n(6491),f=n(83160),g=n(16053),m=n(93181);let y=j.z.object({currencies:j.z.array(j.z.string().trim().min(1,l.p8.Required))});function b(e){let{closeForm:r,gateway:n}=e,{mutate:i,isPending:a}=(0,g.Z)(n.gateway.slug),c=(0,t.pm)(),{formState:{isDirty:o,isSubmitSuccessful:j},handleSubmit:b,control:v,reset:w}=(0,u.cI)({defaultValues:{currencies:n.currencies},resolver:(0,d.F)(y),mode:"onTouched"}),D=x.a(n.gateway.supportedCurrencies||[l.NE.USD],h.a(e=>({value:e,label:e})),p.a(e=>e.label)),{openUnsavedAlertDialog:C,UnsavedAlert:Q}=(0,f.Q)({onDiscard:()=>{r(),w()},shouldConfirmLeave:o&&!j}),Z=b(e=>{i({currencies:e.currencies},{onSuccess:()=>{r(),c({message:"Currencies for gateway ".concat(m.Z[n.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:Z,children:[(0,s.jsx)(u.Qr,{render:e=>{let{field:r}=e;return(0,s.jsx)(t.If,{options:D,onChange:r.onChange,value:r.value,label:"Currencies"})},name:"currencies",control:v}),(0,s.jsxs)(t.QQ.ContentAction,{children:[(0,s.jsx)(t.zx,{onClick:C,disabled:a,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,s.jsx)(t.zx,{$loading:a,variant:"primary",type:"submit",size:"md",ml:"sm",children:"Save"})]})]}),(0,s.jsx)(Q,{})]})}function v(e){let{gateway:r}=e,[n,c]=(0,i.useState)(!1),{hasAccess:d}=(0,a.Z)(),l=r.gateway.supportedCurrencies.length>1&&!n&&d;return(0,s.jsxs)(t.QQ.Root,{children:[(0,s.jsxs)(t.QQ.Header,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.QQ.Title,{children:"Currencies"}),(0,s.jsx)(t.QQ.Description,{children:"Decide what currencies are available for this gateway. Transactions outside the selected currencies will be declined."})]}),(0,s.jsx)(t.QQ.HeaderAction,{children:l&&(0,s.jsx)(t.zx,{disabled:!r.isEnabled,onClick:()=>c(!0),variant:"secondary",size:"lg",children:"Edit"})})]}),(0,s.jsxs)(t.QQ.Content,{children:[!n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(o,{gateway:r})}),n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(b,{closeForm:()=>c(!1),gateway:r})})]})]})}},25343:function(e,r,n){"use strict";n.d(r,{Z:function(){return y}});var s=n(70813),t=n(38220),i=n(55826),a=n(37013);function c(e){let{gateway:r}=e;return(0,s.jsxs)(t.uG,{children:[!r.isDynamicDescriptorEnabled&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.xv,{color:"waterloo",children:"Descriptor"}),(null==r?void 0:r.descriptor)?(0,s.jsx)(t.xv,{children:null==r?void 0:r.descriptor}):(0,s.jsx)(t.xv,{color:"magical",children:"Undefined"})]}),(0,s.jsx)(t.xv,{color:"waterloo",children:"Dynamic descriptor"}),(0,s.jsx)(t.xv,{children:(null==r?void 0:r.isDynamicDescriptorEnabled)?"Enabled":"Disabled"})]})}var o=n(18159),d=n(33618),l=n(44065),u=n(66829),x=n(6491),h=n(80776),p=n(83160),j=n(16053),f=n(93181);let g=x.z.object({descriptor:x.z.string().trim().max(22,(0,d.e$)(d.p8.MostChars,22)).regex(h.hh,d.p8.Descriptor).refine(e=>!(0,u.isCreditCard)(e||""),{message:d.p8.CreditCardNumber}),isDynamicDescriptorEnabled:x.z.boolean().default(!1)});function m(e){var r;let{closeForm:n,gateway:i}=e,{mutate:a,isPending:c}=(0,j.Z)(i.gateway.slug),d=(0,t.pm)(),{formState:{isDirty:u,errors:x,isSubmitSuccessful:h},handleSubmit:m,register:y,control:b,watch:v,reset:w}=(0,l.cI)({defaultValues:{isDynamicDescriptorEnabled:null==i?void 0:i.isDynamicDescriptorEnabled,descriptor:(null==i?void 0:i.descriptor)||""},resolver:(0,o.F)(g),mode:"onTouched"}),{openUnsavedAlertDialog:D,UnsavedAlert:C}=(0,p.Q)({onDiscard:()=>{n(),w()},shouldConfirmLeave:u&&!h}),Q=m(e=>{a({descriptor:e.isDynamicDescriptorEnabled||!e.descriptor?void 0:e.descriptor,isDynamicDescriptorEnabled:e.isDynamicDescriptorEnabled},{onSuccess:()=>{n(),d({message:"Card Statement Descriptor settings for gateway ".concat(f.Z[i.gateway.slug]," saved successfully"),variant:"success"})}})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:Q,children:[(0,s.jsx)(t.UP,{...y("descriptor"),disabled:v("isDynamicDescriptorEnabled"),errorMessage:null===(r=x.descriptor)||void 0===r?void 0:r.message,placeholder:"Enter Descriptor",label:"Descriptor",id:"descriptor"}),(0,s.jsx)(t.xu,{pb:"md",children:(0,s.jsx)(l.Qr,{render:e=>{let{field:r}=e;return(0,s.jsx)(t.ji,{description:"When enabled the descriptor will be generated automatically by Payments AI.",onCheckedChange:r.onChange,label:"Dynamic Descriptor",checked:r.value,name:r.name})},name:"isDynamicDescriptorEnabled",control:b})}),(0,s.jsxs)(t.QQ.ContentAction,{children:[(0,s.jsx)(t.zx,{onClick:D,disabled:c,variant:"secondary",type:"button",size:"md",children:"Cancel"}),(0,s.jsx)(t.zx,{$loading:c,variant:"primary",type:"submit",size:"md",children:"Save"})]})]}),(0,s.jsx)(C,{})]})}function y(e){let{gateway:r}=e,[n,o]=(0,i.useState)(!1),{hasAccess:d}=(0,a.Z)();return(0,s.jsxs)(t.QQ.Root,{children:[(0,s.jsxs)(t.QQ.Header,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.QQ.Title,{children:"Card Statement Descriptor"}),(0,s.jsx)(t.QQ.Description,{children:"Most gateway accounts have a static or default descriptor. The descriptor is what appears on the cardholder's monthly statement."})]}),(0,s.jsx)(t.QQ.HeaderAction,{children:!n&&d&&(0,s.jsx)(t.zx,{onClick:()=>o(!0),disabled:!r.isEnabled,variant:"secondary",size:"lg",children:"Edit"})})]}),(0,s.jsxs)(t.QQ.Content,{children:[!n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(c,{gateway:r})}),n&&(0,s.jsx)(t.Uo,{children:(0,s.jsx)(m,{closeForm:()=>o(!1),gateway:r})})]})]})}},8173:function(e,r,n){"use strict";n.r(r);var s=n(70813),t=n(38220),i=n(53164),a=n(74115),c=n(81244),o=n(25343),d=n(91449),l=n(85493),u=n(18208),x=n(24714),h=n(75251);let p="paypal",j=()=>{let{isPending:e,isError:r,data:n}=(0,a.Z)(p);return((0,h.Z)(n,e),e)?(0,s.jsx)(t.Ib,{loading:!0}):r?(0,s.jsx)(t.xu,{width:"fit-content",m:"sm",children:(0,s.jsx)(t.Te,{resource:"gateway"})}):(0,s.jsxs)(l.Z,{leftColumnContent:(0,s.jsx)(d.Z,{slug:p}),gateway:n,children:[(0,s.jsx)(c.Z,{gateway:n}),(0,s.jsx)(o.Z,{gateway:n}),(0,s.jsx)(u.Z,{gateway:n}),(0,s.jsx)(x.Z,{gateway:n})]})};j.getLayout=e=>(0,s.jsx)(i.Z,{children:e}),r.default=j}},function(e){e.O(0,[6843,3993,2627,5953,8159,6829,7382,9855,3164,3099,4571,626,2756,2403,2888,9774,179],function(){return e(e.s=60617)}),_N_E=e.O()}]);