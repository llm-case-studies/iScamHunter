try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d20487e6-61c7-4514-bac7-4d9e0e4bf3e8",e._sentryDebugIdIdentifier="sentry-dbid-d20487e6-61c7-4514-bac7-4d9e0e4bf3e8")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2939],{18259:function(e,t,n){var r=n(70813),i=n(59675),a=n(31025),l=n(11849),s=n(84075),o=n(12676),d=n(29283),c=n(38220);let u={pending:{transparentIcon:(0,r.jsx)(i.Z,{}),icon:(0,r.jsx)(a.Z,{}),variant:"indeterminate",children:"Pending"},paused:{transparentIcon:(0,r.jsx)(i.Z,{}),icon:(0,r.jsx)(a.Z,{}),variant:"indeterminate",children:"Paused"},completed:{transparentIcon:(0,r.jsx)(l.Z,{}),icon:(0,r.jsx)(s.Z,{}),variant:"success",children:"Completed"},canceled:{transparentIcon:(0,r.jsx)(o.Z,{}),icon:(0,r.jsx)(d.Z,{}),children:"Canceled",variant:"error"},active:{transparentIcon:(0,r.jsx)(l.Z,{}),icon:(0,r.jsx)(s.Z,{}),variant:"success",children:"Active"},churned:{transparentIcon:(0,r.jsx)(o.Z,{}),icon:(0,r.jsx)(d.Z,{}),variant:"error",children:"Churned"},unpaid:{transparentIcon:(0,r.jsx)(o.Z,{}),icon:(0,r.jsx)(d.Z,{}),variant:"error",children:"Unpaid"},voided:{transparentIcon:(0,r.jsx)(o.Z,{}),icon:(0,r.jsx)(d.Z,{}),variant:"error",children:"Voided"},"trial-ended":{transparentIcon:null,children:"Trial ended",icon:null},suspended:{transparentIcon:null,children:"Suspended",icon:null}};t.Z=e=>{let{size:t="md",status:n}=e,{transparentIcon:i,variant:a,icon:l,children:s}=u[n]||{transparentIcon:null,variant:void 0,children:"Unknown",icon:null};return(0,r.jsx)(c.Ct,{variant:"text"===t?"transparent":a,icon:"text"===t?i:l,size:t,children:s})}},66060:function(e,t,n){n.d(t,{ne:function(){return x},wn:function(){return v},ZP:function(){return j}});var r=n(51685),i=n(23808),a=n(94216),l=n(12353),s=n(85404),o=n(36902);let d=e=>({nextChargeFrom:e.nextChargeFrom,nextChargeTo:e.nextChargeTo,renewability:e.renewability,createdFrom:e.createdFrom,customerId:e.customerId,currencies:e.currencies,createdTo:e.createdTo,amountMin:e.amountMin,amountMax:e.amountMax,statuses:e.statuses,search:e.search}),c=e=>({nextChargeFrom:e.nextChargeFrom,sortDirection:e.sortDirection,nextChargeTo:e.nextChargeTo,renewability:e.renewability,createdFrom:e.createdFrom,customerId:e.customerId,currencies:e.currencies,createdTo:e.createdTo,amountMin:e.amountMin,amountMax:e.amountMax,statuses:e.statuses,sortBy:e.sortBy,search:e.search});var u=n(97687);let h=(e,t)=>{var n,r,i,a,l,s;let{sortDirection:o,filters:d,sortBy:c,limit:h,page:x}=e,{nextCharge:v,created:j,search:g,amount:m,...p}=d;return{sortDirection:o,customerId:t,offset:(x-1)*h,sortBy:c,limit:h,...p,...(null==v?void 0:null===(n=v.value)||void 0===n?void 0:n.from)&&{nextChargeFrom:v.value.from.toISOString()},...(null==v?void 0:null===(r=v.value)||void 0===r?void 0:r.to)&&{nextChargeTo:(0,u.i)(v.value.to).toISOString()},...(null==j?void 0:null===(i=j.value)||void 0===i?void 0:i.to)&&{createdTo:(0,u.i)(j.value.to).toISOString()},...(null==j?void 0:null===(a=j.value)||void 0===a?void 0:a.from)&&{createdFrom:j.value.from.toISOString()},...(null==m?void 0:null===(l=m.value)||void 0===l?void 0:l.to)&&{amountMax:m.value.to},...(null==m?void 0:null===(s=m.value)||void 0===s?void 0:s.from)&&{amountMin:m.value.from},...g&&{search:g}}},x="SUBSCRIPTIONS_COUNTERS",v="SUBSCRIPTIONS";function j(e){let t=(0,r.xp)(e),[n]=(0,o.S)(),u=(0,l.X6)(),j=h({...t,filters:{...t.filters,showTestData:n}},null==e?void 0:e.customerId),g=d(j),m=c(j),p=t.getActiveFiltersCount(["type"]);return{activeFiltersCount:p,resourceReport:(0,s.Z)(()=>a.w.sendSubscriptionsReportEmail(u,m)),subscriptions:(0,i.a)({queryFn:()=>a.w.getSubscriptions(u,j),queryKey:[u,v,j],select:e=>e.data,enabled:!!u}),pagination:t,counters:(0,i.a)({queryFn:async()=>(await a.w.getSubscriptionsCounters(u,g)).data.data,placeholderData:{activeCount:0,totalCount:0,endedCount:0},queryKey:[u,x,v,g],enabled:!!u})}}},4875:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(70813),i=n(38421),a=n(38220),l=n(81213),s=n(36902),o=n(38827),d=n(75385),c=n(33618),u=n(11661),h=n(27525),x=n(55826);function v(e){var t,n,i,l;let{onChange:s,value:o,from:d,to:u,id:h}=e,[v,j]=(0,x.useState)(!1),[g,m]=(0,x.useState)(!1),[p,f]=(0,x.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Lt.Root,{children:[(0,r.jsx)(a.Lt.Trigger,{asChild:!0,children:(0,r.jsx)(a.i4,{id:h,children:(0,c.$S)(o)})}),(0,r.jsxs)(a.Lt.Content,{align:"end",children:[(0,r.jsxs)(a.Lt.RadioGroup,{onValueChange:e=>s({value:{...c.ei[e],...d&&{from:d},...u&&{to:u}},id:e}),value:(null==o?void 0:o.id)===void 0?c.tN.all:o.id,children:[(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.all,children:c.EL.all}),(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.nextWeek,children:c.EL.nextWeek}),(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.nextMonth,children:c.EL.nextMonth}),(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.next3Months,children:c.EL.next3Months}),(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.next6Months,children:c.EL.next6Months}),(0,r.jsx)(a.Lt.RadioItem,{value:c.tN.nextYear,children:c.EL.nextYear})]}),(0,r.jsx)(a.Lt.Item,{onClick:()=>m(!0),children:"Before"}),(0,r.jsx)(a.Lt.Item,{onClick:()=>f(!0),children:"After"}),(0,r.jsx)(a.Lt.Item,{onClick:()=>j(!0),children:"Between"})]})]}),(0,r.jsx)(a.u_.Root,{onOpenChange:m,open:g,children:(0,r.jsx)(a.u_.Content,{size:"sm",children:(0,r.jsx)(a.Gv,{onChange:e=>{s({value:{to:e},id:c.tN.isBefore}),j(!1)},hidden:{before:d||c.QZ,after:u},startMonth:d||c.QZ,onCancel:()=>m(!1),selected:null==o?void 0:null===(t=o.value)||void 0===t?void 0:t.to,endMonth:u,type:"to"})})}),(0,r.jsx)(a.u_.Root,{onOpenChange:f,open:p,children:(0,r.jsx)(a.u_.Content,{size:"sm",children:(0,r.jsx)(a.Gv,{onChange:e=>{s({value:{from:e},id:c.tN.isAfter}),j(!1)},hidden:{before:d||c.$n,after:u},startMonth:d||c.$n,onCancel:()=>f(!1),selected:null==o?void 0:null===(n=o.value)||void 0===n?void 0:n.from,endMonth:u,type:"from"})})}),(0,r.jsx)(a.u_.Root,{onOpenChange:j,open:v,children:(0,r.jsx)(a.u_.Content,{size:"sm",children:(0,r.jsx)(a.a2,{onChange:e=>{s({id:c.tN.between,value:e}),j(!1)},hidden:{before:d||c.$n,after:u},selected:{from:null==o?void 0:null===(i=o.value)||void 0===i?void 0:i.from,to:null==o?void 0:null===(l=o.value)||void 0===l?void 0:l.to},startMonth:d||c.$n,onCancel:()=>j(!1),endMonth:u})})})]})}var j=n(41977),g=n(7004),m=[{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"canceled",label:"Canceled"},{value:"churned",label:"Churned"},{value:"suspended",label:"Suspended"},{value:"paused",label:"Paused"},{value:"unpaid",label:"Unpaid"},{value:"trial-ended",label:"Trial ended"},{value:"voided",label:"Voided"},{value:"completed",label:"Completed"}],p=[{value:"automatic",label:"Automatic"},{value:"manual",label:"Manual"}];function f(e){var t;let{pagination:n}=e,{data:i}=(0,g.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.SP,{label:(0,r.jsxs)(r.Fragment,{children:["Created",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({created:void 0}),value:n.filters.created})]}),id:"created",children:(0,r.jsx)(j.Z,{from:(null==i?void 0:i.createdAt)?new Date(i.createdAt):new Date,onChange:e=>n.updateFilter({created:e}),value:n.filters.created,id:"created"})}),(0,r.jsx)(u.Z,{label:(0,r.jsxs)(r.Fragment,{children:["Price",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({amount:void 0}),value:n.filters.amount})]}),onChange:e=>n.updateFilter({amount:e}),value:n.filters.amount,name:"Price"}),(0,r.jsx)(a.If,{label:(0,r.jsxs)(r.Fragment,{children:["Currency",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({currencies:void 0}),value:n.filters.currencies})]}),onChange:e=>n.updateFilter({currencies:e}),value:n.filters.currencies||[],options:c.kn,placeholder:"All"}),(0,r.jsx)(a.If,{label:(0,r.jsxs)(r.Fragment,{children:["Status",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({statuses:void 0}),value:n.filters.statuses})]}),onChange:e=>n.updateFilter({statuses:e}),value:n.filters.statuses||[],options:m,placeholder:"All"}),(0,r.jsx)(a.SP,{id:"next-charge",label:(0,r.jsxs)(r.Fragment,{children:["Next charge",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({nextCharge:void 0}),value:n.filters.nextCharge})]}),children:(0,r.jsx)(v,{onChange:e=>n.updateFilter({nextCharge:e}),value:n.filters.nextCharge,id:"next-charge"})}),(0,r.jsx)(a.SP,{id:"renewability-filter",label:(0,r.jsxs)(r.Fragment,{children:["Renewability",(0,r.jsx)(h.Z,{onClear:()=>n.updateFilter({renewability:void 0}),value:n.filters.renewability})]}),children:(0,r.jsxs)(a.Lt.Root,{children:[(0,r.jsx)(a.Lt.Trigger,{asChild:!0,children:(0,r.jsx)(a.i4,{"data-placeholder":!n.filters.renewability,id:"renewability-filter",children:n.filters.renewability?null===(t=p.find(e=>{let{value:t}=e;return n.filters.renewability===t}))||void 0===t?void 0:t.label:"All"})}),(0,r.jsx)(a.Lt.Content,{children:(0,r.jsx)(a.Lt.RadioGroup,{onValueChange:e=>n.updateFilter({renewability:e}),value:n.filters.renewability,children:p.map(e=>(0,r.jsx)(a.Lt.RadioItem,{value:e.value,children:e.label},e.value))})})]})})]})}function C(e){var t;let{showTestModeSwitch:n=!0,activeFiltersCount:c,omitSearch:u=!1,resourceReport:h,subscriptions:x,pagination:v}=e,[j,g]=(0,s.S)(),{isOpen:m,toggleFilters:p}=(0,d.pW)();return(0,r.jsxs)(l.O.Root,{children:[(0,r.jsxs)(l.O.Header,{children:[u?(0,r.jsx)("div",{}):(0,r.jsx)(l.O.Search,{onChange:e=>v.updateFilter({search:e}),placeholder:"Search by product, customer or customer's email address",resetHandler:()=>v.updateFilter({search:""}),value:v.filters.search}),(0,r.jsxs)(a.kC,{alignItems:"center",gridGap:"md",ml:"auto",children:[n&&(0,r.jsx)(a.RQ,{children:(0,r.jsx)(o.Z,{popoverId:"subscriptions"})}),(0,r.jsx)(l.O.Button,{onClick:p,count:c}),(0,r.jsxs)(a.Lt.Root,{children:[(0,r.jsx)(a.Lt.Trigger,{disabled:h.isPending,asChild:!0,children:(0,r.jsx)(a.op,{"aria-label":"Subscriptions actions",size:"lg"})}),(0,r.jsxs)(a.Lt.Content,{align:"end",children:[(0,r.jsxs)(a.Lt.Item,{disabled:!(null===(t=x.data)||void 0===t?void 0:t.data.length),onClick:()=>h.mutate({}),children:[(0,r.jsx)(i.Z,{})," Send CSV with selected subscriptions to mail"]}),n&&(0,r.jsx)(a._e,{children:(0,r.jsx)(a.Lt.CheckboxItem,{onCheckedChange:e=>g(!!e),checked:j,children:"Show test data"})})]})]})]})]}),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a._e,{children:(0,r.jsx)(a.dy.Root,{onOpenChange:p,open:!0,children:(0,r.jsxs)(a.dy.Content,{children:[(0,r.jsx)(a.dy.Header,{children:(0,r.jsx)(a.dy.Title,{children:"Filters"})}),(0,r.jsx)(a.dy.Section,{children:(0,r.jsx)(a.kC,{flexDirection:"column",children:(0,r.jsx)(f,{pagination:v})})}),c>0&&(0,r.jsx)(a.dy.Action,{children:(0,r.jsx)(a.kC,{justifyContent:"end",py:"xs",children:(0,r.jsx)(l.O.Clear,{clear:v.clearFilters,count:c})})})]})})}),(0,r.jsx)(a.RQ,{children:(0,r.jsx)(a.Uo,{children:(0,r.jsx)(l.O.Content,{children:(0,r.jsxs)(a.kC,{justifyContent:"space-between",gridGap:"md",children:[(0,r.jsx)(l.O.Grid,{children:(0,r.jsx)(f,{pagination:v})}),(0,r.jsx)(l.O.Clear,{clear:v.clearFilters,count:c})]})})})})]})]})}},1875:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(31791),i=n(70813),a=n(36410),l=n(95194),s=n(68437),o=n(38220),d=n(33618),c=n(16660),u=n(73818);let h=["years","months","weeks","days","hours","minutes","seconds"];var x=n(66843),v=n.n(x),j=n(50288),g=n(12353),m=n(18259),p=n(36902),f=n(31585),C=n(81363),b=n(75385),y=n(82901),w=n(59193);function S(){let e=(0,r._)(["\n  max-width: 10rem;\n"]);return S=function(){return e},e}function I(){let e=(0,r._)(["\n  font-weight: ",";\n"]);return I=function(){return e},e}let Z=(0,j.zo)(o.iA.BodyCell)(S()),P=(0,j.zo)(Z)(I(),s.Q2.fontWeights.semibold);function k(e){let{subscriptions:t}=e,n=(0,g.X6)(),[r]=(0,p.S)();return t.isPending?(0,i.jsx)(o.iA.Loading,{columns:8}):t.data.data.map(e=>(0,i.jsx)(v(),{href:{query:{subscriptionId:e.id,orgId:n,...r&&{[f.l]:"1"}},pathname:"/[orgId]/subscriptions/[subscriptionId]"},legacyBehavior:!0,passHref:!0,children:(0,i.jsxs)(o.iA.LinkRow,{children:[(0,i.jsx)(P,{children:(0,d.ed)({value:e.upcomingPrice||e.price||0,currency:e.currency})}),(0,i.jsx)(Z,{children:(0,i.jsx)(m.Z,{status:e.status})}),(0,i.jsx)(Z,{children:e.name}),(0,i.jsx)(Z,{children:(0,i.jsx)(v(),{href:{query:{customerId:e.customer.id,orgId:n,...r&&{[f.l]:"1"}},pathname:"/[orgId]/customers/[customerId]"},legacyBehavior:!0,passHref:!0,children:(0,i.jsx)(o.ee,{children:e.customer.name||e.customer.email})})}),(0,i.jsx)(Z,{children:function(e,t){let n=(0,u.j)(),r=(void 0)??n.locale??c._,i=(void 0)??!1,a=t?.delimiter??" ";return r.formatDistance?((void 0)??h).reduce((t,n)=>{let a=`x${n.replace(/(^.)/,e=>e.toUpperCase())}`,l=e[n];return void 0!==l&&(i||e[n])?t.concat(r.formatDistance(a,l)):t},[]).join(a):""}({[e.billingCycle.unit]:e.billingCycle.length})}),(0,i.jsx)(Z,{children:e.nextCharge&&(0,d.s2)(e.nextCharge)}),(0,i.jsx)(Z,{children:(0,i.jsx)(o.Ct,{icon:e.isAutoPay?(0,i.jsx)(a.Z,{}):(0,i.jsx)(l.Z,{}),variant:"transparent",children:e.isAutoPay?"Automatic":"Manual"})}),(0,i.jsx)(Z,{children:(0,d.s2)(e.createdAt)})]})},e.id))}function A(e){var t;let{subscriptions:n,pagination:r}=e,[a]=(0,p.S)(),{isAtMaximumPage:l,adjustedTotalCount:s}=(0,w.V)({totalCount:(null===(t=n.data)||void 0===t?void 0:t.totalCount)||0,pagination:r}),{openFilters:d}=(0,b.pW)();return n.isError?(0,i.jsx)(o.Te,{retry:()=>n.refetch(),resource:"subscriptions"}):n.isSuccess&&0===n.data.data.length?(0,i.jsx)(o.ML,{description:a?"You can add test subscriptions via test channels outside of Payments AI":"No subscription related to Payments AI has been made yet",search:r.filters.search,title:"No subscriptions found"}):(0,i.jsxs)("div",{children:[(0,i.jsxs)(o.kC,{justifyContent:"end",pb:"sm",children:[n.isSuccess&&(0,i.jsx)(o.vI,{totalCount:s,onPageChange:r.updatePage,currentPage:r.page,perPage:r.limit}),n.isPending&&(0,i.jsx)(C.Z,{width:100,height:20.5})]}),(0,i.jsxs)(o.iA.Root,{children:[(0,i.jsx)(o.iA.Header,{children:(0,i.jsxs)(o.iA.HeaderRow,{children:[(0,i.jsx)(o.iA.HeaderCell,{...r.getSortingProps("price"),children:"Price"}),(0,i.jsx)(o.iA.HeaderCell,{children:"Status"}),(0,i.jsx)(o.iA.HeaderCell,{children:"Product"}),(0,i.jsx)(o.iA.HeaderCell,{children:"Customer"}),(0,i.jsx)(o.iA.HeaderCell,{children:"Billing cycle"}),(0,i.jsx)(o.iA.HeaderCell,{...r.getSortingProps("nextCharge"),children:"Next charge"}),(0,i.jsx)(o.iA.HeaderCell,{...r.getSortingProps("isAutoPay"),children:"Renewability"}),(0,i.jsx)(o.iA.HeaderCell,{...r.getSortingProps("createdAt"),children:"Created"})]})}),(0,i.jsx)(o.iA.Body,{children:!l&&(0,i.jsx)(k,{subscriptions:n})})]}),l&&(0,i.jsx)(y.h,{onShowFilters:d}),(0,i.jsxs)(o.kC,{justifyContent:"end",pt:"sm",children:[n.isSuccess&&(0,i.jsx)(o.vI,{totalCount:s,onPageChange:r.updatePage,currentPage:r.page,perPage:r.limit}),n.isPending&&(0,i.jsx)(C.Z,{width:100,height:20.5})]})]})}},80603:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(70813),i=n(38220),a=n(33618),l=n(66843),s=n.n(l),o=n(81363),d=n(12353),c=n(18259),u=n(36902),h=n(31585),x=n(75385),v=n(82901),j=n(59193);function g(e){var t;let{subscriptions:n,pagination:l}=e,[g]=(0,u.S)(),m=(0,d.X6)(),{isAtMaximumPage:p,adjustedTotalCount:f}=(0,j.V)({totalCount:(null===(t=n.data)||void 0===t?void 0:t.totalCount)||0,pagination:l}),{openFilters:C}=(0,x.pW)();return n.isPending?Array.from({length:l.limit}).map((e,t)=>(0,r.jsxs)(i.QU,{children:[(0,r.jsx)(o.Z,{width:200}),(0,r.jsx)(i.kC,{justifyContent:"end",children:(0,r.jsx)(o.Z,{width:150})}),(0,r.jsx)(o.Z,{width:150}),(0,r.jsx)(i.kC,{justifyContent:"end",children:(0,r.jsx)(o.Z,{width:150})})]},t)):n.isError?(0,r.jsx)(i.Te,{retry:()=>n.refetch(),resource:"subscriptions"}):0===n.data.data.length?(0,r.jsx)(i.ML,{description:g?"You can add test subscriptions via test channels outside of Payments AI":"No subscription related to Payments AI has been made yet",search:l.filters.search,title:"No subscriptions found"}):(0,r.jsxs)("div",{children:[(0,r.jsx)(i.kC,{justifyContent:"end",py:"md",pr:"md",children:(0,r.jsx)(i.vI,{totalCount:f,onPageChange:l.updatePage,currentPage:l.page,perPage:l.limit})}),!p&&n.data.data.map(e=>(0,r.jsx)(s(),{href:{query:{subscriptionId:e.id,orgId:m,...g&&{[h.l]:"1"}},pathname:"/[orgId]/subscriptions/[subscriptionId]"},style:{display:"contents"},children:(0,r.jsxs)(i.QU,{children:[(0,r.jsx)(i.xv,{color:"pickledBluewood",children:e.name}),(0,r.jsx)(i.xv,{fontWeight:"semibold",textAlign:"right",children:(0,a.ed)({value:e.upcomingPrice||e.price||0,currency:e.currency})}),(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{status:e.status})}),(0,r.jsx)(i.xv,{fontSize:"bodySmall",textAlign:"right",color:"waterloo",children:e.nextCharge&&(0,a.s6)(e.nextCharge)})]})},e.id)),p&&(0,r.jsx)(v.h,{onShowFilters:C}),(0,r.jsx)(i.kC,{justifyContent:"end",pt:"md",pr:"md",children:(0,r.jsx)(i.vI,{totalCount:f,onPageChange:l.updatePage,currentPage:l.page,perPage:l.limit})})]})}},26995:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(31791),i=n(70813),a=n(68437),l=n(38220),s=n(88657),o=n(50288),d=n(36902);function c(){let e=(0,r._)(["\n  padding-left: ",";\n  padding-right: ",";\n  @media "," {\n    padding-left: ",";\n    padding-right: ",";\n  }\n"]);return c=function(){return e},e}let u=(0,o.zo)(l.mQ.List)(c(),a.Q2.space["4xl"],a.Q2.space["4xl"],a.Q2.mediaQueries.mobile,a.Q2.space.lg,a.Q2.space.lg),h=[{params:{statuses:void 0},id:"totalCount",label:"All"},{params:{statuses:["active"]},id:"activeCount",label:"Active"},{params:{statuses:["churned","voided","trial-ended","suspended","canceled"]},id:"endedCount",label:"Ended"}];function x(e){var t;let{updateFilter:n,counters:r,statuses:a}=e,[o]=(0,d.S)();return(0,i.jsx)(l.mQ.Root,{onValueChange:e=>{var t;return n({...null===(t=h.find(t=>{let{id:n}=t;return n===e}))||void 0===t?void 0:t.params})},value:null===(t=h.find(e=>{let{params:t}=e;return s.a(t.statuses,a)}))||void 0===t?void 0:t.id,defaultValue:h[0].id,children:(0,i.jsx)(u,{children:h.map(e=>{var t;let{params:n,label:a,id:s}=e;return(0,i.jsxs)(l.mQ.Trigger,{disabled:(null===(t=n.statuses)||void 0===t?void 0:t.length)&&o||!1,value:s,children:[a," ",(0,i.jsx)(l.ID,{amount:r?r[s]:0})]},s)})})})}},38827:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(70813),i=n(93133),a=n(38220),l=n(55826),s=n(88600),o=function(e,t,n){if(!s.jU)return[t,s.ZT,s.ZT];if(!e)throw Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,i=(0,l.useRef)(function(e){try{var i=n?n.raw?String:n.serializer:JSON.stringify,a=localStorage.getItem(e);if(null!==a)return r(a);return t&&localStorage.setItem(e,i(t)),t}catch(e){return t}}),a=(0,l.useState)(function(){return i.current(e)}),o=a[0],d=a[1];(0,l.useLayoutEffect)(function(){return d(i.current(e))},[e]);var c=(0,l.useCallback)(function(t){try{var i="function"==typeof t?t(o):t;if(void 0===i)return;var a=void 0;a=n?n.raw?"string"==typeof i?i:JSON.stringify(i):n.serializer?n.serializer(i):JSON.stringify(i):JSON.stringify(i),localStorage.setItem(e,a),d(r(a))}catch(e){}},[e,d]);return[o,c,(0,l.useCallback)(function(){try{localStorage.removeItem(e),d(void 0)}catch(e){}},[e,d])]},d=n(1222),c=n(27064),u=n(36902);function h(e){let{popoverId:t}=e,[n,s]=(0,u.S)(),{handleOpen:h,setChecked:x,checked:v,open:j}=function(e){let[t,n]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),[a,s]=o("testModePopoverDontShowAgain_"+e),[d]=(0,u.S)();return(0,l.useEffect)(()=>{let e="true"===a;d||(n(!e),i(e))},[a,d]),{handleOpen:e=>{r?s("true"):s(null),n(e)},setChecked:i,checked:r,open:t}}(t);return(0,r.jsxs)(a.kC,{justifyContent:"flex-end",alignItems:"center",minWidth:"17rem",children:[(0,r.jsxs)(a.J2.Root,{onOpenChange:h,open:j,children:[(0,r.jsx)(a.J2.Trigger,{asChild:!0,children:(0,r.jsx)(d.Z,{})}),(0,r.jsxs)(a.J2.Content,{children:[(0,r.jsx)(a.J2.Title,{icon:(0,r.jsx)(i.Z,{}),children:"Test mode data"}),(0,r.jsxs)(a.J2.Description,{children:["Test mode allows you to validate data from test funnels. For more information, check the"," ",(0,r.jsx)(a.ee,{href:c.DM,rel:"noopener noreferrer",target:"_blank",children:"documentation"}),"."]}),(0,r.jsx)(a.J2.Action,{children:(0,r.jsx)(a.ji,{label:(0,r.jsx)(a.xv,{fontSize:"bodySmall",color:"waterloo",children:"Don't show this again"}),onCheckedChange:e=>x(e),id:"testModeCheckbox",checked:v,variant:"md"})})]})]}),(0,r.jsx)(a.KV,{label:!n&&(0,r.jsx)(a.xu,{as:"span",ml:"xs",children:"Show test data"}),onCheckedChange:s,checked:n})]})}},74323:function(e,t,n){var r=n(55826),i=n(88600);t.Z=function(e,t){var n=(0,r.useState)(void 0!==t?t:!!i.jU&&window.matchMedia(e).matches),a=n[0],l=n[1];return(0,r.useEffect)(function(){var t=!0,n=window.matchMedia(e),r=function(){t&&l(!!n.matches)};return n.addEventListener("change",r),l(n.matches),function(){t=!1,n.removeEventListener("change",r)}},[e]),a}},36410:function(e,t,n){var r=n(55826);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",style:{flexShrink:0,display:"inline-block"},stroke:"currentColor","aria-hidden":"true","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M8.734 1.813a5 5 0 1 1-4.122-.617"}),r.createElement("path",{d:"M1.262 1h3.636L4.45 4.61"}))});t.Z=i},95194:function(e,t,n){var r=n(55826);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",style:{flexShrink:0,display:"inline-block"},stroke:"currentColor","aria-hidden":"true","data-slot":"icon",height:16,width:16,ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("circle",{cx:6,cy:6,r:5.5}),r.createElement("path",{d:"m8.5 3.5-5 5M3.5 3.5l5 5"}))});t.Z=i}}]);