try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c67f0e2e-1c8d-4565-9514-0eaa4fe3d933",e._sentryDebugIdIdentifier="sentry-dbid-c67f0e2e-1c8d-4565-9514-0eaa4fe3d933")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2842],{414:function(e,t,n){n.d(t,{s:function(){return u}});var i=n(70813),a=n(38220),r=n(66843),s=n.n(r),o=n(12353);function u(e){let{isModalOpen:t,setIsModalOpen:n}=e,r=(0,o.X6)();return(0,i.jsx)(a.u_.Root,{open:t,onOpenChange:n,children:(0,i.jsxs)(a.u_.Content,{size:"sm",children:[(0,i.jsx)(a.xv,{color:"pickledBluewood",fontFamily:"heading",fontWeight:"medium",fontSize:"h5",textAlign:"center",children:"Add payment instrument"}),(0,i.jsx)(a.xv,{color:"waterloo",pt:"md",fontSize:"bodySmall",children:"Please add your billing details and connect a payment instrument. This is required to enable the connection and ensure smooth transactions."}),(0,i.jsxs)(a.u_.Action,{children:[(0,i.jsx)(a.zx,{variant:"secondary",size:"lg",onClick:()=>n(!1),children:"Back"}),(0,i.jsx)(a.u_.Close,{asChild:!0,children:(0,i.jsx)(s(),{href:{pathname:"/[orgId]/settings/billing/primary-payment-instrument",query:{orgId:r}},legacyBehavior:!0,passHref:!0,children:(0,i.jsx)(a.zx,{variant:"primary",size:"lg",as:"span",children:"Add payment instrument"})})})]})]})})}},22469:function(e,t,n){n.d(t,{F:function(){return r}});var i=n(49345),a=n(92864);function r(){let{data:e,isPending:t}=(0,a.QN)(),{data:n,isPending:r}=(0,i.WF)();return{data:!!e||!!n,isPending:t||r}}},49345:function(e,t,n){n.d(t,{Dh:function(){return h},OX:function(){return f},WF:function(){return m},gq:function(){return y}});var i=n(31552),a=n(38220),r=n(23808),s=n(68863),o=n(93963),u=n(94216),l=n(12353),c=n(54622);let d="BACKUP_PAYMENT_INSTRUMENT",m=()=>{let e=(0,l.X6)();return(0,r.a)({queryFn:async()=>{try{return await u.w.getBackupPaymentInstrument(e)}catch(e){if(e instanceof i.MS&&(null==e?void 0:e.code)==="OrganizationPaymentInstrumentNotFound")return null;throw e}},queryKey:[e,d],select:e=>null==e?void 0:e.data.data,enabled:!!e,retry:!1})},y=()=>{let e=(0,l.X6)(),t=(0,s.NL)();return(0,o.D)({mutationFn:t=>u.w.updateBackupPaymentInstrument(e,t),onSuccess:async()=>{await t.refetchQueries({queryKey:[e,d]}),t.invalidateQueries({queryKey:[e,c.q2]})}})},f=()=>{let e=(0,l.X6)(),t=(0,s.NL)(),n=(0,a.pm)();return(0,o.D)({mutationFn:()=>u.w.deleteBackupPaymentInstrument(e),onSuccess:async()=>{await t.refetchQueries({queryKey:[e,d]}),n({message:"Backup payment method has been deleted.",variant:"success"})}})},h=()=>{let e=(0,l.X6)(),t=(0,s.NL)(),n=(0,a.pm)();return(0,o.D)({mutationFn:t=>u.w.toggleBackupPaymentInstrument(e,t),onSuccess:async()=>{await t.refetchQueries({queryKey:[e,d]}),n({message:"Backup payment method has been updated.",variant:"success"})}})}},54622:function(e,t,n){n.d(t,{Qb:function(){return d},S1:function(){return c},q2:function(){return l}});var i=n(38220),a=n(23808),r=n(68863),s=n(93963),o=n(94216),u=n(12353);let l="RETRY_MODE",c=()=>{let e=(0,u.X6)();return(0,a.a)({queryFn:()=>o.w.getPaymentInstrumentRetryMode(e),queryKey:[e,l],select:e=>e.data.data.mode,enabled:!!e})},d=()=>{let e=(0,u.X6)(),t=(0,r.NL)(),n=(0,i.pm)();return(0,s.D)({mutationFn:t=>o.w.setPaymentInstrumentRetryMode(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[e,l]}),n({message:"Backup instrument retry mode has been updated.",variant:"success"})}})}},96041:function(e,t,n){n.d(t,{F:function(){return s}});var i=n(65324),a=n(55826),r=n(22469);function s(){let{data:e}=(0,r.F)(),[t,n]=(0,a.useState)(!1),{validateGatewayConnection:s}=(0,i.Vb)();return{gatedAction:(0,a.useCallback)(t=>{if(!e&&s){n(!0);return}return t()},[e,s]),modalOpen:t,setModalOpen:n}}},92864:function(e,t,n){n.d(t,{QN:function(){return d},me:function(){return m}});var i=n(31552),a=n(23808),r=n(68863),s=n(93963),o=n(94216),u=n(7004),l=n(12353);let c="PRIMARY_PAYMENT_INSTRUMENT",d=()=>{let e=(0,l.X6)();return(0,a.a)({queryFn:async()=>{try{return await o.w.getPrimaryPaymentInstrument(e)}catch(e){if(e instanceof i.MS&&(null==e?void 0:e.code)==="OrganizationPaymentInstrumentNotFound")return null;throw e}},queryKey:[e,c],select:e=>(null==e?void 0:e.data.data)||null,enabled:!!e})},m=()=>{let e=(0,l.X6)(),t=(0,r.NL)();return(0,s.D)({mutationFn:t=>o.w.updatePrimaryPaymentInstrument(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[e,u.N]}),t.invalidateQueries({queryKey:[e,c]})}})}},86719:function(e,t,n){n.d(t,{z:function(){return u},Z:function(){return l}});var i=n(23808),a=n(94216),r=n(12353),s=n(6491);let o=s.z.object({availableGatewaySlugsForRouting:s.z.union([s.z.string(),s.z.array(s.z.string())]),canDisableGatewayRouting:s.z.boolean(),canEnableGatewayRouting:s.z.boolean(),areProFeaturesEnabled:s.z.boolean()}),u="PRO_PERMISSIONS";function l(){let e=(0,r.X6)();return(0,i.a)({queryFn:()=>a.w.getProFeaturesPermissions(e),select:e=>o.parse(e.data.data),queryKey:[e,u],enabled:!!e})}},47201:function(e,t,n){var i=n(31791),a=n(70813),r=n(68437);function s(){let e=(0,i._)(["\n  background: linear-gradient(82.65deg, #062df7 11.43%, #06bdf7 97.65%);\n  border-radius: 1.2rem;\n  padding: 0.3rem 0.6rem;\n  text-transform: uppercase;\n  vertical-align: middle;\n  color: ",";\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n"]);return s=function(){return e},e}let o=n(50288).zo.span(s(),r.Q2.colors.white,r.Q2.fonts.heading,r.Q2.fontSizes.bodySmall,r.Q2.fontWeights.medium);t.Z=()=>(0,a.jsx)(o,{children:"Pro"})},55380:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(70813),a=n(38220),r=n(55826),s=n(414),o=n(96041),u=n(68863),l=n(93963),c=n(66843),d=n.n(c),m=n(94216),y=n(12353),f=n(86719),h=n(34013),g=n(47201),p=e=>{let{handleClose:t}=e,n=function(){let e=(0,y.X6)(),t=(0,u.NL)(),n=(0,a.pm)();return(0,l.D)({mutationFn:()=>m.w.disableProFeatures(e),onSuccess:()=>{t.invalidateQueries({queryKey:[e,f.z]}),n({message:"All PRO features are disabled which may increase your overall gateway fees.",title:"PRO features disabled",variant:"warning"})}})}();return(0,i.jsxs)(a.aR.Content,{children:[(0,i.jsxs)(a.aR.Title,{children:["Deactivate ",(0,i.jsx)(g.Z,{})," features"]}),(0,i.jsx)(a.aR.Description,{children:"Are you sure you want to deactivate pro features? All configurations will be disabled which may increase your overall gateways fees."}),(0,i.jsxs)(a.aR.Action,{children:[(0,i.jsx)(a.aR.Cancel,{disabled:n.isPending,children:"Cancel"}),(0,i.jsx)(a.aR.Submit,{onClick:()=>n.mutate(void 0,{onSuccess:t}),$loading:n.isPending,children:n.isPending?"Loading...":"Deactivate"})]})]})};function v(e){let{btnText:t="Activate",size:n="lg",onSuccess:c}=e,{isPending:g,mutate:v}=function(){let e=(0,y.X6)(),t=(0,u.NL)(),n=(0,a.pm)();return(0,l.D)({mutationFn:()=>m.w.enableProFeatures(e),onSuccess:()=>{t.invalidateQueries({queryKey:[e,f.z]}),n({message:(0,i.jsxs)(i.Fragment,{children:["Since now, all your transactions will be charged a 0.5% fee. You can deactivate PRO feature in the"," ",(0,i.jsx)(d(),{href:{pathname:"/[orgId]/settings/billing",query:{orgId:e}},legacyBehavior:!0,passHref:!0,children:(0,i.jsx)(a.ee,{children:"Billing settings"})})," ","section."]}),title:"PRO features successfully activated!",variant:"success"})}})}(),[b,x]=(0,r.useState)(!1),{gatedAction:w,modalOpen:S,setModalOpen:F}=(0,o.F)(),j=(0,r.useCallback)(()=>w(()=>{v(void 0,{onSuccess:c})}),[w,v,c]);return(0,i.jsx)(h.Z,{fallback:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{onClick:j,$loading:g,variant:"primary",size:n,children:t}),(0,i.jsx)(s.s,{isModalOpen:S,setIsModalOpen:F})]}),children:(0,i.jsxs)(a.aR.Root,{onOpenChange:x,open:b,children:[(0,i.jsx)(a.aR.Trigger,{asChild:!0,children:(0,i.jsx)(a.zx,{variant:"tertiary",size:n,children:"Deactivate"})}),(0,i.jsx)(p,{handleClose:()=>x(!1)})]})})}},34013:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(86719);function a(e){let{fallback:t=null,children:n}=e,{isSuccess:a,data:r}=(0,i.Z)();return a?(null==r?void 0:r.areProFeaturesEnabled)?n:t:null}},19429:function(e,t,n){n.d(t,{S:function(){return s}});var i=n(31791),a=n(38220);function r(){let e=(0,i._)([""]);return r=function(){return e},e}let s=(0,n(50288).zo)(a.xu).attrs({background:"linear-gradient(324deg, #FBFDFF 3.27%, #FBFDFF 67.04%, #FBFDFF 67.04%)",boxShadow:"0px 1px 2px 0px #DAE4E880",borderColor:"mystic",borderStyle:"solid",borderRadius:"sm",borderWidth:"1px",p:"xl"})(r())},61867:function(e,t,n){n.d(t,{pn:function(){return v},uO:function(){return p},hh:function(){return g}});var i=n(31791),a=n(70813),r=n(93133),s=n(68437),o=n(38220),u=n(50288),l=n(1222),c=n(4870);let d={SubscriptionLifecycleAutomation:"Subscription lifecycle automation",EmailInvoices:"Automatic sending of e-mails containing invoices",EditInvoicesComingSoon:"Ability to edit invoices (coming soon)",TrialConversionOptimization:"Trial conversion optimization",FlexibleRecoveryStrategies:"Flexible recovery strategies",PayInvoiceViaEmail:"Pay the invoice via email",SubscriptionRules:"Setting subscription rules",DefaultOrCustomRules:"Default or custom rules",OptimizeDiscounts:"Optimizing your discounts",RescueFailedPayments:"Rescue failed payments",GatewaySelection:"Payment gateway selection",EditInvoices:"Ability to edit invoices",TaxIntegration:"Add tax integration",TaxLocations:"Set tax locations"},m={SubscriptionRules:"Take charge of subscriptions with our Subscription Rules Setting. Decide billing timings, manage failed attempts proactively, and send timely reminders for trial ends and card expirations. Subscription control, simplified.",GatewaySelection:"Minimize transaction costs with payment gateway selection. Automatically directing customers through the cheapest gateway, our system ensures you save big on every sale. Dynamic, data-driven, and designed for savings.",OptimizeDiscounts:"Effortlessly control your discounts with Intelligent Discount Management. Ensure no double-dipping on offers â€“ with our system, discounts are applied accurately and fairly, every time. Manage discounts easily.",SubscriptionLifecycleAutomation:"Define exactly what happens after failed attempts, including whether to cancel subscriptions or continue with different payment options, all within the intuitive Payments.ai interface.",DefaultOrCustomRules:"Choose between pre-configured default settings (3 attempts over 15 days) or create your own tailored dunning strategies based on specific products or customer segments.",EmailInvoices:"Let the emails send themselves. Our automatic e-mail sending function will relieve you of the burden and ensure quick delivery of documents to your clients.",RescueFailedPayments:"Set up automatic retry attempts with custom schedules to recover subscription revenue that would otherwise be lost due to payment processing issues.",FlexibleRecoveryStrategies:"Customize your approach with options for full amount retries, partial payments, or special discounts to maximize subscription retention.",PayInvoiceViaEmail:"Let your customers easily pay for their order. All they need to do is click on the link that will be generated in the email sent to them.",TrialConversionOptimization:"Increase conversion rates with trial reminder emails that notify customers 3 days before their trial period ends.",TaxIntegration:"Integrate with leading tax service providers to automate your taxes without having to worry about compliance yourself.",TaxLocations:"Choose where your tax settlement address should be.",EditInvoicesComingSoon:"Change the details on the invoice easily",EditInvoices:"Change the details on the invoice easily"},y={SubscriptionLifecycleAutomation:c.mL,TrialConversionOptimization:c.dl,FlexibleRecoveryStrategies:c.TR,DefaultOrCustomRules:c.N1,RescueFailedPayments:c.I2,PayInvoiceViaEmail:c.ky,OptimizeDiscounts:c.WC,SubscriptionRules:c.yr,EditInvoicesComingSoon:c.MR,GatewaySelection:c.Yv,TaxIntegration:c.ad,EmailInvoices:c.gk,EditInvoices:c.MR,TaxLocations:c.CW};function f(){let e=(0,i._)(["\n  padding: ",";\n"]);return f=function(){return e},e}let h=(0,u.zo)(o.bZ)(f(),s.Q2.space.xl),g=e=>(0,a.jsx)(h,{variant:"info",withIcon:!1,...e}),p=e=>{let{feature:t}=e,n=y[t];return(0,a.jsxs)(o.rj,{gridTemplateColumns:"3.2rem 1fr 1.6rem",alignItems:"center",height:"100%",gridGap:"xs",p:"md",children:[(0,a.jsx)(n,{"aria-hidden":!0}),(0,a.jsx)(o.xv,{fontFamily:"heading",fontSize:"bodySmall",children:d[t]}),(0,a.jsx)(o.xu,{ml:"auto",children:(0,a.jsxs)(o.J2.Root,{children:[(0,a.jsx)(o.J2.Trigger,{asChild:!0,children:(0,a.jsx)(l.Z,{})}),(0,a.jsxs)(o.J2.Content,{children:[(0,a.jsx)(o.J2.Title,{icon:(0,a.jsx)(r.Z,{}),children:d[t]}),(0,a.jsx)(o.J2.Description,{children:m[t]})]})]})})]})},v=e=>{let{feature:t}=e,n=y[t];return(0,a.jsxs)(o.rj,{gridTemplateColumns:"3.2rem 1fr",gridGap:"md",children:[(0,a.jsx)(n,{"aria-hidden":!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.xv,{fontFamily:"heading",fontSize:"bodySmall",color:"fiord",mb:"xxs",as:"h6",children:d[t]}),(0,a.jsx)(o.xv,{fontSize:"bodySmall",color:"waterloo",children:m[t]})]})]})}}}]);